{"version":3,"file":"static/js/5345.059aca2e.chunk.js","mappings":"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","sources":["assets/images/google.svg","components/FormInput.jsx","pages/users/Login.jsx","services/Http.js"],"sourcesContent":["var _g;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgGoogle(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#000\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z\",\n    fill: \"#EA4335\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z\",\n    fill: \"#4285F4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z\",\n    fill: \"#FBBC05\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z\",\n    fill: \"#34A853\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h18v18H0z\"\n  }))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGoogle);\nexport default __webpack_public_path__ + \"static/media/google.87be52cb772ef2969ce42e13a2d37b7c.svg\";\nexport { ForwardRef as ReactComponent };","import { Form } from \"react-bootstrap\";\r\nimport \"./FormInput.css\";\r\n\r\nconst FormInput = ({\r\n    className,\r\n    name,\r\n    icon,\r\n    type,\r\n    placeholder,\r\n    onChange,\r\n    onBlur,\r\n    readOnly,\r\n    required,\r\n    value,\r\n    disabled,\r\n    touched = \"\",\r\n    errors = \"\"\r\n}) => {\r\n    return (\r\n        <Form.Group className={['position-relative ' + className]}>\r\n            <i className={icon}></i>\r\n            <Form.Control \r\n                type={type}\r\n                name={name} \r\n                placeholder={placeholder} \r\n                readOnly={readOnly}\r\n                required={required}\r\n                onChange={onChange}\r\n                onBlur={onBlur}\r\n                disabled={disabled}\r\n                value={value}\r\n                isInvalid={!!errors[name]}\r\n            />\r\n            <Form.Control.Feedback type=\"invalid\">\r\n                {errors[name]}\r\n            </Form.Control.Feedback>\r\n\r\n        </Form.Group>\r\n    )\r\n}\r\n\r\nexport default FormInput;","import { useEffect } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { createUser } from \"../../store/reducers/userReducer\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport { Container, Form, Button } from \"react-bootstrap\";\r\nimport FormInput from \"../../components/FormInput\";\r\nimport { useGoogleLogin } from \"@react-oauth/google\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\nimport LoginSvg from \"../../assets/images/Group-14630.png\";\r\nimport GoogleSvg from \"../../assets/images/google.svg\";\r\nimport Http from \"../../services/Http\";\r\nimport \"./Login.css\";\r\n\r\nconst Login = () => {\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        document.title = \"AnswerSheet - Login\"\r\n    }, []);\r\n    let user = { email: \"\", password: \"\" };\r\n\r\n    const validationSchema = yup.object({\r\n        email: yup.string('Enter your email.')\r\n                .email('Enter a valid email.')\r\n                .required('Email is required.'),\r\n        password: yup.string('Enter your password.')\r\n                .required('Password is required.')\r\n    });\r\n\r\n    const onLogin = async (user, { resetForm }) => {\r\n        let { data } = await Http.post(\"login\", user);\r\n        if (data.status) {\r\n            resetForm();\r\n            toast.success(data.msg);\r\n            await dispatch(createUser({\r\n                user: data.user,\r\n                token: data.token\r\n            }));\r\n            if (data.user.role > 0) {\r\n                navigate(\"/admin/users\");\r\n            } else {\r\n                navigate(\"/subjects\");\r\n            }\r\n        } else {\r\n            toast.error(data.msg);\r\n        }\r\n    }\r\n\r\n    const googleLogin = useGoogleLogin({\r\n        onSuccess: async (tokenRes) => {\r\n            let { data } = await Http.post(\"login/google\", tokenRes);\r\n            if (data.status) {\r\n                toast.success(data.msg);\r\n                await dispatch(createUser({\r\n                    user: data.user,\r\n                    token: data.token\r\n                }));\r\n                if (data.user.role > 0) {\r\n                    navigate(\"/admin/users\");\r\n                } else {\r\n                    navigate(\"/subjects\");\r\n                }\r\n            } else {\r\n                toast.error(data.msg);\r\n            }\r\n        },\r\n        onError: errRes => {\r\n            toast.error(errRes.toString());\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"login-container\">\r\n            <Container>\r\n                <div className=\"page-content\">\r\n                    <div className=\"page-left-content\">\r\n                        <LazyLoadImage src={LoginSvg} alt=\"Login\"/>\r\n                    </div>\r\n                    <div className=\"page-right-content\">\r\n                        <div className=\"login-form\">\r\n                            <h1 className=\"page-title\">Welcome back</h1>\r\n                            <Formik\r\n                                validationSchema={validationSchema}\r\n                                validateOnChange={false}\r\n                                validateOnBlur={false}\r\n                                onSubmit={onLogin}\r\n                                initialValues={user}\r\n                            >\r\n                                {({handleSubmit, handleChange, values, touched, errors}) => (\r\n                                    <Form noValidate onSubmit={handleSubmit} className=\"mt-4\">\r\n                                        <div className=\"d-grid\">\r\n                                            <Button variant=\"primary\" className=\"google-signin-btn\" onClick={googleLogin}>\r\n                                                <LazyLoadImage src={GoogleSvg} alt=\"google\" style={{ marginRight: 15 }}/>\r\n                                                Sign in with Google\r\n                                            </Button>\r\n                                        </div>\r\n                                        <div style={{display: \"flex\", alignItems: 'center', justifyContent: 'center'}}>\r\n                                            <div style={{flex: 1}}><hr/></div>\r\n                                            <div className=\"py-2 px-3 fw-bold text-dark\">OR</div>\r\n                                            <div style={{flex: 1}}><hr/></div>\r\n                                        </div>\r\n                                        <p className=\"mb-4\">Please enter your details.</p>\r\n                                        <FormInput \r\n                                            className=\"mb-4\"\r\n                                            required\r\n                                            name=\"email\"\r\n                                            icon=\"fa fa-envelope\" \r\n                                            type=\"email\" \r\n                                            placeholder=\"Email\"\r\n                                            onChange={handleChange}\r\n                                            value={values.email}\r\n                                            touched={touched}\r\n                                            errors={errors}\r\n                                            />\r\n                                        <FormInput \r\n                                            className=\"mb-3\" \r\n                                            required\r\n                                            name=\"password\" \r\n                                            icon=\"fa fa-lock\" \r\n                                            type=\"password\" \r\n                                            placeholder=\"Password\"\r\n                                            onChange={handleChange}\r\n                                            value={values.password}\r\n                                            touched={touched}\r\n                                            errors={errors}\r\n                                            />\r\n                                        <p className=\"mb-1\">Don't have an account? <Link className=\"\" to=\"/signup\">Sign up free</Link></p>\r\n                                        <p className=\"mb-4\"><Link className=\"\" to=\"/forgot-password\">Forgot password?</Link></p>\r\n                                        <div className=\"d-grid\">\r\n                                            <Button variant=\"primary\" type=\"submit\">Log in</Button>\r\n                                        </div>\r\n                                    </Form>\r\n                                )}\r\n                            </Formik>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import axios from \"axios\";\r\nconst getToken = () => {\r\n    return window.localStorage.getItem(\"token\") ? localStorage.getItem(\"token\") : null;\r\n}\r\n\r\nconst http = axios.create({\r\n    // baseURL: \"http://localhost:5000/api/v1/\",\r\n    baseURL: \"/api/v1/\",\r\n    timeout: 15000,\r\n    headers: {\r\n        Authorization: `Bearer ${getToken()}`\r\n    }\r\n});\r\n\r\nhttp.interceptors.request.use(function(config) {\r\n    config.headers.Authorization = `Bearer ${getToken()}`;\r\n    return config;\r\n});\r\nhttp.interceptors.response.use(function(response) {\r\n    return response;\r\n}, function(err) {\r\n    if (err.response.status === 401 || err.response.status === 403 || err.response.status === 406) {\r\n        window.localStorage.clear();\r\n        window.location.href = \"/login\";\r\n    } \r\n    return Promise.reject(err);\r\n});\r\n\r\nexport default http;"],"names":["className","name","icon","type","placeholder","onChange","onBlur","readOnly","required","value","disabled","touched","errors","Form","isInvalid","navigate","useNavigate","dispatch","useDispatch","useEffect","document","title","validationSchema","yup","email","password","onLogin","user","resetForm","Http","data","status","toast","msg","createUser","token","role","googleLogin","useGoogleLogin","onSuccess","tokenRes","onError","errRes","toString","Container","LazyLoadImage","src","LoginSvg","alt","validateOnChange","validateOnBlur","onSubmit","initialValues","handleSubmit","handleChange","values","noValidate","Button","variant","onClick","GoogleSvg","style","marginRight","display","alignItems","justifyContent","flex","FormInput","Link","to","getToken","window","localStorage","getItem","http","axios","baseURL","timeout","headers","Authorization","interceptors","request","use","config","response","err","clear","location","href","Promise","reject"],"sourceRoot":""}