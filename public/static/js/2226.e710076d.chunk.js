"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2226],{26535:function(e,n,a){a.d(n,{Z:function(){return m}});var t=a(1413),r=a(95313),s=a(62591),i=a(43360),o=a(42982),c=a(72791),l=a(8116),d=a(80184),u=function(e,n){var a=n-e+1;return Array.from({length:a},(function(n,a){return a+e}))},f=function(e){var n=e.search,a=e.pagination,r=e.onChange,s=e.siblingCount,i=void 0===s?1:s,f=e.className,m=function(e){var n=e.totalCount,a=e.pageSize,t=e.siblingCount,r=void 0===t?1:t,s=e.currentPage;return(0,c.useMemo)((function(){var e=Math.ceil(n/a);if(r+5>=e)return u(1,e);var t=Math.max(s-r,1),i=Math.min(s+r,e),c=t>2,l=i<e-2,d=1,f=e;if(!c&&l){var m=u(1,3+2*r);return[].concat((0,o.Z)(m),["DOTS",e])}if(c&&!l){var p=u(e-(3+2*r)+1,e);return[d,"DOTS"].concat((0,o.Z)(p))}if(c&&l){var h=u(t,i);return[d,"DOTS"].concat((0,o.Z)(h),["DOTS",f])}}),[n,a,r,s])}({currentPage:a.page,totalCount:a.totalCount,pageSize:a.pageSize,siblingCount:i});if(0===a.page||m.length<1)return null;var p=m[m.length-1];return(0,d.jsxs)(l.Z,{className:f,children:[(0,d.jsx)(l.Z.First,{onClick:function(){r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:1})})}}),(0,d.jsx)(l.Z.Prev,{onClick:function(){a.page>1&&r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:a.page-1})})}}),m.map((function(e,s){return"DOTS"===e?(0,d.jsx)(l.Z.Ellipsis,{},s):a.page===e?(0,d.jsx)(l.Z.Item,{active:!0,onClick:function(){return r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:e})})},children:e},s):(0,d.jsx)(l.Z.Item,{onClick:function(){return r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:e})})},children:e},s)})),(0,d.jsx)(l.Z.Next,{onClick:function(){a.page<p&&r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:a.page+1})})}}),(0,d.jsx)(l.Z.Last,{onClick:function(){r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:p})})}})]})},m=function(e){var n=e.pageItems,a=void 0===n?[5,10,20,50,100]:n,o=e.columns,c=e.data,l=void 0===c?[]:c,u=e.options,m=void 0===u?{responsive:!0,bordered:!0,center:!0}:u,p=e.pagination,h=void 0===p?{page:1,totalCount:10,pageSize:10}:p,v=e.sort,Z=e.search,g=e.onChange,x=e.emptyText,b=void 0===x?"Empty data":x,y=e.onRow,j=void 0===y?function(){}:y;return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,d.jsx)(r.Z.Select,{size:"sm",style:{maxWidth:100},defaultValue:h.pageSize,onChange:function(e){return g({search:Z,pagination:(0,t.Z)((0,t.Z)({},h),{},{pageSize:Number(e.target.value),page:1})})},children:a.map((function(e,n){return(0,d.jsx)("option",{value:e,children:e},n)}))}),(0,d.jsx)(r.Z.Control,{size:"sm",type:"text",placeholder:"Search...",style:{maxWidth:200},onKeyUp:function(e){return function(e){13===e.keyCode&&g({search:e.target.value,pagination:(0,t.Z)((0,t.Z)({},h),{},{page:1})})}(e)}})]}),(0,d.jsxs)(s.Z,{className:"datatable "+(m.center?"text-center":""),responsive:m.responsive,bordered:m.bordered,hover:!0,children:[(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{children:o.map((function(e,n){return(0,d.jsxs)("th",{style:{width:e.width?e.width:"auto"},children:[e.name,!1!==e.sortable&&(0,d.jsxs)(i.Z,{className:"sort-btn",size:"sm",variant:"link",onClick:function(){return function(e,n){var a="asc";void 0===n?a="asc":"asc"===n.dir?a="desc":"desc"===n.dir&&(a="asc"),g({search:Z,pagination:h,sort:{key:e,dir:a}})}(e.key,v)},children:[("undefined"===typeof v||v.key!==e.key)&&(0,d.jsx)("i",{className:"fa fa-arrows-v"}),"undefined"!==typeof v&&v.key===e.key&&"asc"===v.dir&&(0,d.jsx)("i",{className:"fa fa-long-arrow-up"}),"undefined"!==typeof v&&v.key===e.key&&"desc"===v.dir&&(0,d.jsx)("i",{className:"fa fa-long-arrow-down"})]})]},n)}))})}),(0,d.jsx)("tbody",{children:l.length?l.map((function(e,n){return(0,d.jsx)("tr",{onClick:function(){return j(e._id)},children:o.map((function(a,t){return a.render?(0,d.jsx)("td",{children:a.render(e,n)},t):(0,d.jsx)("td",{children:e[a.key]},t)}))},n)})):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:o.length,className:"text-center text-danger",children:b})})})]}),(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:(0,d.jsx)(f,{search:Z,pagination:h,onChange:g})})]})}},82226:function(e,n,a){a.r(n),a.d(n,{default:function(){return v}});var t=a(74165),r=a(1413),s=a(15861),i=a(70885),o=a(72791),c=a(43360),l=a(9140),d=a(95316),u=a(11087),f=a(9085),m=a(26535),p=a(85239),h=a(80184),v=function(){var e=(0,o.useState)(0),n=(0,i.Z)(e,2),a=n[0],v=n[1],Z=(0,o.useState)([]),g=(0,i.Z)(Z,2),x=g[0],b=g[1],y=(0,o.useState)(),j=(0,i.Z)(y,2),N=j[0],w=j[1],k=(0,o.useState)(""),C=(0,i.Z)(k,2),S=C[0],P=C[1],E=(0,o.useState)({page:1,totalCount:0,pageSize:10}),z=(0,i.Z)(E,2),T=z[0],R=z[1],F=(0,o.useState)({}),D=(0,i.Z)(F,2),I=D[0],O=D[1],A=(0,o.useState)(!1),H=(0,i.Z)(A,2),L=H[0],M=H[1],B=[{key:"_id",name:"No",width:65,render:function(e,n){return n+1}},{key:"name",name:"Name",width:180},{key:"year",name:"Year",render:function(e,n){return e.module.subject.year.name},width:100},{key:"subject",name:"Subject",render:function(e,n){return e.module.subject.name},width:200},{key:"module",name:"Module",render:function(e,n){return e.module.name},width:200},{key:"description",name:"Description",render:function(e,n){return(0,h.jsx)("div",{className:"topic-description",dangerouslySetInnerHTML:{__html:e.description}})},sortable:!1},{key:"action",name:"Action",width:90,render:function(e,n){return(0,h.jsxs)("div",{children:[(0,h.jsx)(u.Link,{className:"btn btn-sm btn-outline-success me-1",to:"/admin/topics/edit/".concat(e._id),children:(0,h.jsx)("i",{className:"fa fa-edit"})}),(0,h.jsx)(c.Z,{variant:"btn btn-sm btn-outline-danger",size:"sm",onClick:function(){return _(e)},children:(0,h.jsx)("i",{className:"fa fa-trash"})})]})},sortable:!1}];(0,o.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.get("admin/topics",{params:{search:S,length:T.pageSize,page:T.page,sortKey:N?N.key:"",sortDir:N?N.dir:""}});case 2:n=e.sent,a=n.data,b(a.data),R((0,r.Z)((0,r.Z)({},T),{},{totalCount:a.totalCount}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var _=function(e){O(e),M(!0)},K=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.delete("admin/topics/".concat(I._id));case 2:n=e.sent,(r=n.data).status?(v(!a),M(!1),f.Am.success(r.msg)):f.Am.error(r.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(l.Z,{children:[(0,h.jsx)(l.Z.Header,{style:{background:"#3c4b64"},bsPrefix:"card-header py-3",children:(0,h.jsxs)(l.Z.Title,{as:"h1",bsPrefix:"card-title text-light mb-0",style:{fontSize:24},children:["Topics management",(0,h.jsxs)(u.Link,{to:"/admin/topics/create",className:"btn btn-primary btn-sm float-end",children:[(0,h.jsx)("i",{className:"fa fa-plus"})," New topic"]})]})}),(0,h.jsx)(l.Z.Body,{children:(0,h.jsx)(m.Z,{columns:B,data:x,sort:N,search:S,pagination:T,onChange:function(e){var n=e.search,t=e.pagination,r=e.sort;w(r),P(n),R(t),v(!a)}})}),(0,h.jsxs)(d.Z,{show:L,onHide:function(){return M(!1)},children:[(0,h.jsx)(d.Z.Header,{children:(0,h.jsx)(d.Z.Title,{children:"Are you sure?"})}),(0,h.jsx)(d.Z.Body,{children:"Deleting is permanent and cannot be undone."}),(0,h.jsxs)(d.Z.Footer,{children:[(0,h.jsxs)(c.Z,{variant:"primary",onClick:K,children:[(0,h.jsx)("i",{className:"fa fa-thumbs-up"})," Yes"]}),(0,h.jsxs)(c.Z,{variant:"danger",onClick:function(){return M(!1)},children:[(0,h.jsx)("i",{className:"fa fa-thumbs-down"})," No"]})]})]})]})}},85239:function(e,n,a){var t=a(61044),r=function(){return window.localStorage.getItem("token")?localStorage.getItem("token"):null},s=t.ZP.create({baseURL:"/api/v1/",timeout:15e3,headers:{Authorization:"Bearer ".concat(r())}});s.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(r()),e})),s.interceptors.response.use((function(e){return e}),(function(e){return 401!==e.response.status&&403!==e.response.status&&406!==e.response.status||(window.localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),n.Z=s},9140:function(e,n,a){a.d(n,{Z:function(){return z}});var t=a(1413),r=a(45987),s=a(81694),i=a.n(s),o=a(72791),c=a(10162),l=a(66543),d=a(27472),u=a(80184),f=["bsPrefix","className","variant","as"],m=o.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,o=e.variant,l=e.as,d=void 0===l?"img":l,m=(0,r.Z)(e,f),p=(0,c.vE)(a,"card-img");return(0,u.jsx)(d,(0,t.Z)({ref:n,className:i()(o?"".concat(p,"-").concat(o):p,s)},m))}));m.displayName="CardImg";var p=m,h=a(96040),v=["bsPrefix","className","as"],Z=o.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,l=e.as,d=void 0===l?"div":l,f=(0,r.Z)(e,v),m=(0,c.vE)(a,"card-header"),p=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:m}}),[m]);return(0,u.jsx)(h.Z.Provider,{value:p,children:(0,u.jsx)(d,(0,t.Z)((0,t.Z)({ref:n},f),{},{className:i()(s,m)}))})}));Z.displayName="CardHeader";var g=Z,x=["bsPrefix","className","bg","text","border","body","children","as"],b=(0,d.Z)("h5"),y=(0,d.Z)("h6"),j=(0,l.Z)("card-body"),N=(0,l.Z)("card-title",{Component:b}),w=(0,l.Z)("card-subtitle",{Component:y}),k=(0,l.Z)("card-link",{Component:"a"}),C=(0,l.Z)("card-text",{Component:"p"}),S=(0,l.Z)("card-footer"),P=(0,l.Z)("card-img-overlay"),E=o.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,o=e.bg,l=e.text,d=e.border,f=e.body,m=e.children,p=e.as,h=void 0===p?"div":p,v=(0,r.Z)(e,x),Z=(0,c.vE)(a,"card");return(0,u.jsx)(h,(0,t.Z)((0,t.Z)({ref:n},v),{},{className:i()(s,Z,o&&"bg-".concat(o),l&&"text-".concat(l),d&&"border-".concat(d)),children:f?(0,u.jsx)(j,{children:m}):m}))}));E.displayName="Card",E.defaultProps={body:!1};var z=Object.assign(E,{Img:p,Title:N,Subtitle:w,Body:j,Link:k,Text:C,Header:g,Footer:S,ImgOverlay:P})},95316:function(e,n,a){a.d(n,{Z:function(){return K}});var t,r=a(70885),s=a(45987),i=a(1413),o=a(81694),c=a.n(o),l=a(3070),d=a(97357),u=a(78376),f=a(36382);function m(e){if((!t&&0!==t||e)&&d.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),t=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return t}var p=a(28633),h=a(39007),v=a(73201),Z=a(91683),g=a(33690),x=a(72791),b=a(11835),y=a(35592),j=a(72709),N=a(66543),w=(0,N.Z)("modal-body"),k=a(99820),C=a(10162),S=a(80184),P=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],E=x.forwardRef((function(e,n){var a=e.bsPrefix,t=e.className,r=e.contentClassName,o=e.centered,l=e.size,d=e.fullscreen,u=e.children,f=e.scrollable,m=(0,s.Z)(e,P);a=(0,C.vE)(a,"modal");var p="".concat(a,"-dialog"),h="string"===typeof d?"".concat(a,"-fullscreen-").concat(d):"".concat(a,"-fullscreen");return(0,S.jsx)("div",(0,i.Z)((0,i.Z)({},m),{},{ref:n,className:c()(p,t,l&&"".concat(a,"-").concat(l),o&&"".concat(p,"-centered"),f&&"".concat(p,"-scrollable"),d&&h),children:(0,S.jsx)("div",{className:c()("".concat(a,"-content"),r),children:u})}))}));E.displayName="ModalDialog";var z=E,T=(0,N.Z)("modal-footer"),R=a(78024),F=["bsPrefix","className"],D=x.forwardRef((function(e,n){var a=e.bsPrefix,t=e.className,r=(0,s.Z)(e,F);return a=(0,C.vE)(a,"modal-header"),(0,S.jsx)(R.Z,(0,i.Z)((0,i.Z)({ref:n},r),{},{className:c()(t,a)}))}));D.displayName="ModalHeader",D.defaultProps={closeLabel:"Close",closeButton:!1};var I=D,O=(0,a(27472).Z)("h4"),A=(0,N.Z)("modal-title",{Component:O}),H=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],L={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:z};function M(e){return(0,S.jsx)(j.Z,(0,i.Z)((0,i.Z)({},e),{},{timeout:null}))}function B(e){return(0,S.jsx)(j.Z,(0,i.Z)((0,i.Z)({},e),{},{timeout:null}))}var _=x.forwardRef((function(e,n){var a=e.bsPrefix,t=e.className,o=e.style,j=e.dialogClassName,N=e.contentClassName,w=e.children,P=e.dialogAs,E=e["aria-labelledby"],z=e["aria-describedby"],T=e["aria-label"],R=e.show,F=e.animation,D=e.backdrop,I=e.keyboard,O=e.onEscapeKeyDown,A=e.onShow,L=e.onHide,_=e.container,K=e.autoFocus,U=e.enforceFocus,W=e.restoreFocus,Y=e.restoreFocusOptions,q=e.onEntered,V=e.onExit,G=e.onExiting,J=e.onEnter,Q=e.onEntering,X=e.onExited,$=e.backdropClassName,ee=e.manager,ne=(0,s.Z)(e,H),ae=(0,x.useState)({}),te=(0,r.Z)(ae,2),re=te[0],se=te[1],ie=(0,x.useState)(!1),oe=(0,r.Z)(ie,2),ce=oe[0],le=oe[1],de=(0,x.useRef)(!1),ue=(0,x.useRef)(!1),fe=(0,x.useRef)(null),me=(0,p.Z)(),pe=(0,r.Z)(me,2),he=pe[0],ve=pe[1],Ze=(0,v.Z)(n,ve),ge=(0,h.Z)(L),xe=(0,C.SC)();a=(0,C.vE)(a,"modal");var be=(0,x.useMemo)((function(){return{onHide:ge}}),[ge]);function ye(){return ee||(0,y.t)({isRTL:xe})}function je(e){if(d.Z){var n=ye().getScrollbarWidth()>0,a=e.scrollHeight>(0,u.Z)(e).documentElement.clientHeight;se({paddingRight:n&&!a?m():void 0,paddingLeft:!n&&a?m():void 0})}}var Ne=(0,h.Z)((function(){he&&je(he.dialog)}));(0,Z.Z)((function(){(0,f.Z)(window,"resize",Ne),null==fe.current||fe.current()}));var we=function(){de.current=!0},ke=function(e){de.current&&he&&e.target===he.dialog&&(ue.current=!0),de.current=!1},Ce=function(){le(!0),fe.current=(0,g.Z)(he.dialog,(function(){le(!1)}))},Se=function(e){"static"!==D?ue.current||e.target!==e.currentTarget?ue.current=!1:null==L||L():function(e){e.target===e.currentTarget&&Ce()}(e)},Pe=(0,x.useCallback)((function(e){return(0,S.jsx)("div",(0,i.Z)((0,i.Z)({},e),{},{className:c()("".concat(a,"-backdrop"),$,!F&&"show")}))}),[F,$,a]),Ee=(0,i.Z)((0,i.Z)({},o),re);Ee.display="block";return(0,S.jsx)(k.Z.Provider,{value:be,children:(0,S.jsx)(b.Z,{show:R,ref:Ze,backdrop:D,container:_,keyboard:!0,autoFocus:K,enforceFocus:U,restoreFocus:W,restoreFocusOptions:Y,onEscapeKeyDown:function(e){I||"static"!==D?I&&O&&O(e):(e.preventDefault(),Ce())},onShow:A,onHide:L,onEnter:function(e,n){e&&je(e),null==J||J(e,n)},onEntering:function(e,n){null==Q||Q(e,n),(0,l.ZP)(window,"resize",Ne)},onEntered:q,onExit:function(e){null==fe.current||fe.current(),null==V||V(e)},onExiting:G,onExited:function(e){e&&(e.style.display=""),null==X||X(e),(0,f.Z)(window,"resize",Ne)},manager:ye(),transition:F?M:void 0,backdropTransition:F?B:void 0,renderBackdrop:Pe,renderDialog:function(e){return(0,S.jsx)("div",(0,i.Z)((0,i.Z)({role:"dialog"},e),{},{style:Ee,className:c()(t,a,ce&&"".concat(a,"-static"),!F&&"show"),onClick:D?Se:void 0,onMouseUp:ke,"aria-label":T,"aria-labelledby":E,"aria-describedby":z,children:(0,S.jsx)(P,(0,i.Z)((0,i.Z)({},ne),{},{onMouseDown:we,className:j,contentClassName:N,children:w}))}))}})})}));_.displayName="Modal",_.defaultProps=L;var K=Object.assign(_,{Body:w,Header:I,Title:A,Footer:T,Dialog:z,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},8116:function(e,n,a){a.d(n,{Z:function(){return N}});var t=a(1413),r=a(45987),s=a(81694),i=a.n(s),o=a(72791),c=a(10162),l=a(16445),d=a(80184),u=["active","disabled","className","style","activeLabel","children"],f=["children"],m=o.forwardRef((function(e,n){var a=e.active,s=e.disabled,o=e.className,c=e.style,f=e.activeLabel,m=e.children,p=(0,r.Z)(e,u),h=a||s?"span":l.Z;return(0,d.jsx)("li",{ref:n,style:c,className:i()(o,"page-item",{active:a,disabled:s}),children:(0,d.jsxs)(h,(0,t.Z)((0,t.Z)({className:"page-link"},p),{},{children:[m,a&&f&&(0,d.jsx)("span",{className:"visually-hidden",children:f})]}))})}));m.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},m.displayName="PageItem";var p=m;function h(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,s=o.forwardRef((function(e,s){var i=e.children,o=(0,r.Z)(e,f);return(0,d.jsxs)(m,(0,t.Z)((0,t.Z)({},o),{},{ref:s,children:[(0,d.jsx)("span",{"aria-hidden":"true",children:i||n}),(0,d.jsx)("span",{className:"visually-hidden",children:a})]}))}));return s.displayName=e,s}var v=h("First","\xab"),Z=h("Prev","\u2039","Previous"),g=h("Ellipsis","\u2026","More"),x=h("Next","\u203a"),b=h("Last","\xbb"),y=["bsPrefix","className","size"],j=o.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,o=e.size,l=(0,r.Z)(e,y),u=(0,c.vE)(a,"pagination");return(0,d.jsx)("ul",(0,t.Z)((0,t.Z)({ref:n},l),{},{className:i()(s,u,o&&"".concat(u,"-").concat(o))}))}));j.displayName="Pagination";var N=Object.assign(j,{First:v,Prev:Z,Ellipsis:g,Item:p,Next:x,Last:b})},62591:function(e,n,a){var t=a(1413),r=a(45987),s=a(81694),i=a.n(s),o=a(72791),c=a(10162),l=a(80184),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=o.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,o=e.striped,u=e.bordered,f=e.borderless,m=e.hover,p=e.size,h=e.variant,v=e.responsive,Z=(0,r.Z)(e,d),g=(0,c.vE)(a,"table"),x=i()(s,g,h&&"".concat(g,"-").concat(h),p&&"".concat(g,"-").concat(p),o&&"".concat(g,"-").concat("string"===typeof o?"striped-".concat(o):"striped"),u&&"".concat(g,"-bordered"),f&&"".concat(g,"-borderless"),m&&"".concat(g,"-hover")),b=(0,l.jsx)("table",(0,t.Z)((0,t.Z)({},Z),{},{className:x,ref:n}));if(v){var y="".concat(g,"-responsive");return"string"===typeof v&&(y="".concat(y,"-").concat(v)),(0,l.jsx)("div",{className:y,children:b})}return b}));n.Z=u}}]);
//# sourceMappingURL=2226.e710076d.chunk.js.map