"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4210],{94210:function(e,r,t){t.r(r);var n=t(74165),s=t(15861),a=t(72791),o=t(57689),c=t(59434),i=t(76887),u=t(47022),l=t(9085),f=t(85239),m=t(80184);r.default=function(){var e=(0,o.UO)().token,r=(0,c.I0)(),t=(0,o.s0)(),p=(0,c.v9)((function(e){return e.user})),d=p.premiumUser,g=p.premiumMembership,h=p.loading;(0,a.useEffect)((function(){document.title="AnswerSheet - HSC made easy";var e=new AbortController;return w(e.signal),function(){return e.abort()}}),[]);var w=function(){var a=(0,s.Z)((0,n.Z)().mark((function s(a){var o,c;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r((0,i.K4)(!0)),n.next=3,f.Z.get("verify-email/".concat(e),{signal:a});case 3:if(o=n.sent,c=o.data,console.log("DATA========>",c),!c.status){n.next=14;break}return r((0,i.K4)(!1)),l.Am.success(c.msg),n.next=11,r((0,i.r4)({user:c.user,token:c.token}));case 11:v(),n.next=16;break;case 14:l.Am.error(c.msg),t("/login");case 16:case"end":return n.stop()}}),s)})));return function(e){return a.apply(this,arguments)}}(),v=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("OK",d),e.next=3,f.Z.post("billing/".concat(d.gateway),{user:d,membership:g});case 3:t=e.sent,(s=t.data).success?(r((0,i.K4)(!1)),window.localStorage.removeItem("membership"),window.location.href=s.redirect_url):(r((0,i.K4)(!1)),l.Am.error(s.msg));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.jsx)("div",{className:"page-container d-flex align-items-center justify-content-center",children:(0,m.jsxs)(u.Z,{className:"text-center",children:[console.log(g,d),h&&(0,m.jsx)("span",{className:"alert alert-success",children:"Please wait while verifing your email..."})]})})}},85239:function(e,r,t){var n=t(61044),s=function(){return window.localStorage.getItem("token")?localStorage.getItem("token"):null},a=n.ZP.create({baseURL:"/api/v1/",timeout:15e3,headers:{Authorization:"Bearer ".concat(s())}});a.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(s()),e})),a.interceptors.response.use((function(e){return e}),(function(e){return 401!==e.response.status&&403!==e.response.status&&406!==e.response.status||(window.localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),r.Z=a}}]);
//# sourceMappingURL=4210.a115c0ce.chunk.js.map