"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5612],{64389:function(e,a,n){n.r(a),n.d(a,{default:function(){return x}});var r=n(1413),t=n(74165),s=n(15861),i=n(70885),c=n(72791),o=n(9140),l=n(95313),u=n(89743),d=n(2677),f=n(43360),p=n(55705),m=n(81724),v=n(85239),b=n(9085),Z=n(57689),h=n(80184),x=function(){var e=(0,Z.UO)(),a=(0,Z.s0)(),n=(0,c.useRef)(0),x=(0,c.useState)([]),g=(0,i.Z)(x,2),j=g[0],y=g[1],N=(0,c.useState)({name:"",year:"",description:""}),w=(0,i.Z)(N,2),C=w[0],P=w[1],k=(0,c.useState)(),R=(0,i.Z)(k,2),O=R[0],S=R[1],B=m.Ry({name:m.Z_("Enter a subject name.").test("len","Must be less than 64 characters.",(function(e){return e.length<64})).required("Subject name is required.")});(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var a,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Z.get("admin/years/get-all");case 2:a=e.sent,n=a.data,y(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,c.useEffect)((function(){var a=function(){var a=(0,s.Z)((0,t.Z)().mark((function a(){var n,r,s;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.id,a.next=3,v.Z.get("admin/subjects/".concat(n));case 3:r=a.sent,(s=r.data).success?P(s.data):b.Am.error(s.msg);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a()}),[]);var E=function(e){var a=URL.createObjectURL(e.target.files[0]);S(e.target.files[0]),P((0,r.Z)((0,r.Z)({},C),{},{icon:a}))},I=function(){var n=(0,s.Z)((0,t.Z)().mark((function n(r,s){var i,c,o,l,u;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=s.resetForm,c=e.id,o=new FormData,O&&o.append("icon",O),o.append("year",r.year),o.append("name",r.name),o.append("description",r.description),n.next=9,v.Z.put("admin/subjects/".concat(c),o,{headers:{"Content-Type":"multipart/form-data"}});case 9:l=n.sent,(u=l.data).success?(b.Am.success(u.msg),i(),S(null),a("/admin/subjects")):b.Am.error(u.msg);case 12:case"end":return n.stop()}}),n)})));return function(e,a){return n.apply(this,arguments)}}();return(0,h.jsxs)(o.Z,{className:"edit-subject-container",children:[(0,h.jsx)(o.Z.Header,{style:{background:"#3c4b64"},bsPrefix:"card-header py-3",children:(0,h.jsx)(o.Z.Title,{bsPrefix:"card-title mb-0 text-light",as:"h5",children:"Edit subject"})}),(0,h.jsx)(o.Z.Body,{children:(0,h.jsx)(p.J9,{validationSchema:B,validateOnChange:!1,validateOnBlur:!1,onSubmit:I,initialValues:{name:C.name,year:C.year,description:C.description},enableReinitialize:!0,children:function(e){var a=e.handleSubmit,r=e.handleChange,t=e.handleBlur,s=e.values,i=e.touched,c=e.errors;return(0,h.jsxs)(l.Z,{noValidate:!0,onSubmit:a,children:[(0,h.jsxs)(u.Z,{children:[(0,h.jsx)(d.Z,{lg:2,md:3,children:(0,h.jsxs)("div",{className:"file-preview",children:[(0,h.jsx)("div",{className:"file-preview-content",style:{backgroundImage:"url(".concat(C.icon,")")},children:(0,h.jsx)(f.Z,{variant:"outline-primary",size:"sm",onClick:function(){return n.current.click()},children:"Choose Icon"})}),(0,h.jsx)(l.Z.Control,{className:"d-none",type:"file",accept:".png,.jpg,.bmp,.svg,.git,.tiff,.pdf,.eps",ref:n,onChange:E})]})}),(0,h.jsxs)(d.Z,{lg:10,md:9,children:[(0,h.jsxs)(l.Z.Group,{className:"mb-3",children:[(0,h.jsx)(l.Z.Label,{children:"Year:"}),(0,h.jsx)(l.Z.Select,{name:"year",onChange:r,onBlur:t,value:s.year,touched:i,isInvalid:!!c.year,children:j.map((function(e,a){return(0,h.jsx)("option",{value:e._id,children:e.name},a)}))}),(0,h.jsx)(l.Z.Control.Feedback,{type:"invalid",children:c.year})]}),(0,h.jsxs)(l.Z.Group,{className:"mb-3",children:[(0,h.jsx)(l.Z.Label,{children:"Subject:"}),(0,h.jsx)(l.Z.Control,{type:"text",placeholder:"Please enter a subject name.",name:"name",onChange:r,onBlur:t,value:s.name,touched:i,isInvalid:!!c.name}),(0,h.jsx)(l.Z.Control.Feedback,{type:"invalid",children:c.name})]})]})]}),(0,h.jsxs)(l.Z.Group,{className:"mb-3",children:[(0,h.jsx)(l.Z.Label,{children:"Description:"}),(0,h.jsx)(l.Z.Control,{as:"textarea",placeholder:"Please enter a subject description",name:"description",onChange:r,onBlur:t,value:s.description,rows:"10"})]}),(0,h.jsxs)(f.Z,{type:"submit",variant:"primary",className:"float-end",children:[(0,h.jsx)("i",{className:"fa fa-save"})," Update"]})]})}})})]})}},85239:function(e,a,n){var r=n(61044),t=function(){return window.localStorage.getItem("token")?localStorage.getItem("token"):null},s=r.ZP.create({baseURL:"/api/v1/",timeout:15e3,headers:{Authorization:"Bearer ".concat(t())}});s.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(t()),e})),s.interceptors.response.use((function(e){return e}),(function(e){return 401!==e.response.status&&403!==e.response.status&&406!==e.response.status||(window.localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),a.Z=s},15341:function(e,a,n){n.d(a,{FT:function(){return c}});var r=n(70885),t=n(72791),s=n(80184),i=["as","disabled"];function c(e){var a=e.tagName,n=e.disabled,r=e.href,t=e.target,s=e.rel,i=e.role,c=e.onClick,o=e.tabIndex,l=void 0===o?0:o,u=e.type;a||(a=null!=r||null!=t||null!=s?"a":"button");var d={tagName:a};if("button"===a)return[{type:u||"button",disabled:n},d];var f=function(e){(n||"a"===a&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==c||c(e)};return"a"===a&&(r||(r="#"),n&&(r=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===a?t:void 0,"aria-disabled":n||void 0,rel:"a"===a?s:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},d]}var o=t.forwardRef((function(e,a){var n=e.as,t=e.disabled,o=function(e,a){if(null==e)return{};var n,r,t={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],a.indexOf(n)>=0||(t[n]=e[n]);return t}(e,i),l=c(Object.assign({tagName:n,disabled:t},o)),u=(0,r.Z)(l,2),d=u[0],f=u[1].tagName;return(0,s.jsx)(f,Object.assign({},o,d,{ref:a}))}));o.displayName="Button",a.ZP=o},43360:function(e,a,n){var r=n(1413),t=n(70885),s=n(45987),i=n(81694),c=n.n(i),o=n(72791),l=n(15341),u=n(10162),d=n(80184),f=["as","bsPrefix","variant","size","active","className"],p=o.forwardRef((function(e,a){var n=e.as,i=e.bsPrefix,o=e.variant,p=e.size,m=e.active,v=e.className,b=(0,s.Z)(e,f),Z=(0,u.vE)(i,"btn"),h=(0,l.FT)((0,r.Z)({tagName:n},b)),x=(0,t.Z)(h,2),g=x[0],j=x[1].tagName;return(0,d.jsx)(j,(0,r.Z)((0,r.Z)((0,r.Z)({},g),b),{},{ref:a,className:c()(v,Z,m&&"active",o&&"".concat(Z,"-").concat(o),p&&"".concat(Z,"-").concat(p),b.href&&b.disabled&&"disabled")}))}));p.displayName="Button",p.defaultProps={variant:"primary",active:!1,disabled:!1},a.Z=p},9140:function(e,a,n){n.d(a,{Z:function(){return S}});var r=n(1413),t=n(45987),s=n(81694),i=n.n(s),c=n(72791),o=n(10162),l=n(66543),u=n(27472),d=n(80184),f=["bsPrefix","className","variant","as"],p=c.forwardRef((function(e,a){var n=e.bsPrefix,s=e.className,c=e.variant,l=e.as,u=void 0===l?"img":l,p=(0,t.Z)(e,f),m=(0,o.vE)(n,"card-img");return(0,d.jsx)(u,(0,r.Z)({ref:a,className:i()(c?"".concat(m,"-").concat(c):m,s)},p))}));p.displayName="CardImg";var m=p,v=n(96040),b=["bsPrefix","className","as"],Z=c.forwardRef((function(e,a){var n=e.bsPrefix,s=e.className,l=e.as,u=void 0===l?"div":l,f=(0,t.Z)(e,b),p=(0,o.vE)(n,"card-header"),m=(0,c.useMemo)((function(){return{cardHeaderBsPrefix:p}}),[p]);return(0,d.jsx)(v.Z.Provider,{value:m,children:(0,d.jsx)(u,(0,r.Z)((0,r.Z)({ref:a},f),{},{className:i()(s,p)}))})}));Z.displayName="CardHeader";var h=Z,x=["bsPrefix","className","bg","text","border","body","children","as"],g=(0,u.Z)("h5"),j=(0,u.Z)("h6"),y=(0,l.Z)("card-body"),N=(0,l.Z)("card-title",{Component:g}),w=(0,l.Z)("card-subtitle",{Component:j}),C=(0,l.Z)("card-link",{Component:"a"}),P=(0,l.Z)("card-text",{Component:"p"}),k=(0,l.Z)("card-footer"),R=(0,l.Z)("card-img-overlay"),O=c.forwardRef((function(e,a){var n=e.bsPrefix,s=e.className,c=e.bg,l=e.text,u=e.border,f=e.body,p=e.children,m=e.as,v=void 0===m?"div":m,b=(0,t.Z)(e,x),Z=(0,o.vE)(n,"card");return(0,d.jsx)(v,(0,r.Z)((0,r.Z)({ref:a},b),{},{className:i()(s,Z,c&&"bg-".concat(c),l&&"text-".concat(l),u&&"border-".concat(u)),children:f?(0,d.jsx)(y,{children:p}):p}))}));O.displayName="Card",O.defaultProps={body:!1};var S=Object.assign(O,{Img:m,Title:N,Subtitle:w,Body:y,Link:C,Text:P,Header:h,Footer:k,ImgOverlay:R})},96040:function(e,a,n){var r=n(72791).createContext(null);r.displayName="CardHeaderContext",a.Z=r},89743:function(e,a,n){var r=n(1413),t=n(45987),s=n(81694),i=n.n(s),c=n(72791),o=n(10162),l=n(80184),u=["bsPrefix","className","as"],d=c.forwardRef((function(e,a){var n=e.bsPrefix,s=e.className,c=e.as,d=void 0===c?"div":c,f=(0,t.Z)(e,u),p=(0,o.vE)(n,"row"),m=(0,o.pi)(),v=(0,o.zG)(),b="".concat(p,"-cols"),Z=[];return m.forEach((function(e){var a,n=f[e];delete f[e],a=null!=n&&"object"===typeof n?n.cols:n;var r=e!==v?"-".concat(e):"";null!=a&&Z.push("".concat(b).concat(r,"-").concat(a))})),(0,l.jsx)(d,(0,r.Z)((0,r.Z)({ref:a},f),{},{className:i().apply(void 0,[s,p].concat(Z))}))}));d.displayName="Row",a.Z=d},66543:function(e,a,n){n.d(a,{Z:function(){return p}});var r=n(1413),t=n(45987),s=n(81694),i=n.n(s),c=/-(.)/g;var o=n(72791),l=n(10162),u=n(80184),d=["className","bsPrefix","as"],f=function(e){return e[0].toUpperCase()+(a=e,a.replace(c,(function(e,a){return a.toUpperCase()}))).slice(1);var a};function p(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.displayName,s=void 0===n?f(e):n,c=a.Component,p=a.defaultProps,m=o.forwardRef((function(a,n){var s=a.className,o=a.bsPrefix,f=a.as,p=void 0===f?c||"div":f,m=(0,t.Z)(a,d),v=(0,l.vE)(o,e);return(0,u.jsx)(p,(0,r.Z)({ref:n,className:i()(s,v)},m))}));return m.defaultProps=p,m.displayName=s,m}},27472:function(e,a,n){var r=n(1413),t=n(72791),s=n(81694),i=n.n(s),c=n(80184);a.Z=function(e){return t.forwardRef((function(a,n){return(0,c.jsx)("div",(0,r.Z)((0,r.Z)({},a),{},{ref:n,className:i()(a.className,e)}))}))}},42391:function(e){var a=function(){};e.exports=a},11752:function(e,a,n){n.d(a,{Z:function(){return s}});var r=n(61120);function t(e,a){for(;!Object.prototype.hasOwnProperty.call(e,a)&&null!==(e=(0,r.Z)(e)););return e}function s(){return s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,a,n){var r=t(e,a);if(r){var s=Object.getOwnPropertyDescriptor(r,a);return s.get?s.get.call(arguments.length<3?e:n):s.value}},s.apply(this,arguments)}}}]);
//# sourceMappingURL=5612.0fab59be.chunk.js.map