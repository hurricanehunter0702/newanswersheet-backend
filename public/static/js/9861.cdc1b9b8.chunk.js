"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9861],{88733:function(e,a,s){s.r(a),s.d(a,{default:function(){return C}});var r=s(74165),n=s(1413),t=s(15861),i=s(70885),c=s(72791),l=s(47022),o=s(95313),m=s(89743),d=s(2677),u=s(62591),p=s(43360),h=s(57689),f=s(59434),x=s(76887),j=s(55705),y=s(81724),g=s(85239),b=s(81334),v=s(9085),w=s(87087),Z=s(45185),N=s(80184),C=function(){var e=(0,h.s0)(),a=(0,f.I0)(),C=(0,c.useState)({}),k=(0,i.Z)(C,2),q=k[0],L=k[1];(0,c.useEffect)((function(){document.title="AnswerSheet - HSC made easy";var a=JSON.parse(window.localStorage.getItem("membership"));a?L(a):e("/signup")}),[]);var S=y.Ry({firstName:y.Z_("Enter your first name.").required("First name is required."),lastName:y.Z_("Enter your last name.").required("Last name is required."),email:y.Z_("Enter your email.").email("Enter a vaild email.").required("Email is required."),password:y.Z_("Enter your password").min(8,"Password should be minimum 8 characters in length.").required("Password is required."),confirmPassword:y.Z_().test("password-match","Password and Confirm password do not match.",(function(e){return this.parent.password===e}))}),P=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(s,t){var i,c,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.resetForm,e.next=3,g.Z.post("register",s);case 3:if(c=e.sent,l=c.data,a((0,x.K4)(!0)),!l.success){e.next=12;break}return i(),e.next=10,E((0,n.Z)((0,n.Z)({},l.user),{},{paymentType:s.paymentType}));case 10:e.next=14;break;case 12:a((0,x.K4)(!1)),v.Am.error(l.msg);case 14:case"end":return e.stop()}}),e)})));return function(a,s){return e.apply(this,arguments)}}(),E=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(s){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.post("billing/".concat(s.paymentType),{user:s,membership:q});case 2:n=e.sent,(t=n.data).success?(a((0,x.K4)(!1)),window.localStorage.removeItem("membership"),window.location.href=t.redirect_url):(a((0,x.K4)(!1)),v.Am.error(t.msg));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,N.jsx)("div",{className:"premium-signup-container",children:(0,N.jsx)(l.Z,{children:(0,N.jsxs)("div",{className:"page-content",children:[(0,N.jsx)("div",{className:"page-left-content",children:(0,N.jsx)("img",{src:Z.Z,alt:"Sign Up"})}),(0,N.jsxs)("div",{className:"page-right-content",children:[(0,N.jsx)("div",{style:{width:"100%"},className:"mb-3",children:(0,N.jsx)("h1",{className:"page-title",children:"Create premium account"})}),(0,N.jsx)(j.J9,{validationSchema:S,onSubmit:P,initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",paymentType:"stripe"},children:function(e){var a=e.handleSubmit,r=e.handleChange,n=e.values,t=(e.touched,e.errors);return(0,N.jsxs)(o.Z,{noValidate:!0,onSubmit:a,children:[(0,N.jsx)(b.Z,{required:!0,name:"email",className:"mb-4",icon:"fa fa-envelope",type:"email",placeholder:"Email",onChange:r,value:n.email,errors:t}),(0,N.jsxs)(m.Z,{children:[(0,N.jsx)(d.Z,{md:"6",sm:"12",children:(0,N.jsx)(b.Z,{required:!0,name:"firstName",className:"mb-4",icon:"fa fa-user",type:"text",placeholder:"First name",onChange:r,value:n.firstName,errors:t})}),(0,N.jsx)(d.Z,{md:"6",sm:"12",children:(0,N.jsx)(b.Z,{required:!0,name:"lastName",className:"mb-4",icon:"fa fa-user",type:"text",placeholder:"Last name",onChange:r,value:n.lastName,errors:t})})]}),(0,N.jsxs)(m.Z,{children:[(0,N.jsx)(d.Z,{md:"6",sm:"12",children:(0,N.jsx)(b.Z,{required:!0,name:"password",className:"mb-4",icon:"fa fa-lock",type:"password",placeholder:"Password",onChange:r,value:n.password,errors:t})}),(0,N.jsx)(d.Z,{md:"6",sm:"12",children:(0,N.jsx)(b.Z,{required:!0,name:"confirmPassword",className:"mb-4",icon:"fa fa-check",type:"password",placeholder:"Confirm password",onChange:r,value:n.confirmPassword,errors:t})})]}),(0,N.jsx)("hr",{className:"mt-0"}),Object.keys(q).length&&(0,N.jsxs)(u.Z,{bsPrefix:"bg-white table table-bordered",children:[(0,N.jsx)("thead",{style:{backgroundColor:"#005492",color:"#fafafa"},children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{children:"Membership"}),(0,N.jsx)("th",{children:"Amount"})]})}),(0,N.jsxs)("tbody",{children:[(0,N.jsxs)("tr",{children:[(0,N.jsxs)("td",{children:[(0,N.jsxs)("div",{children:[q.name," - ",q.subjects.length," ",q.subjects.length>1?"subjects":"subject"]}),(0,N.jsx)("ul",{className:"mb-0",children:q.subjects.map((function(e,a){return(0,N.jsxs)("li",{children:[e.year_name," - ",e.name]},a)}))})]}),(0,N.jsxs)("td",{children:["$",q.price]})]}),(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"fw-bolder",children:"Total payment"}),(0,N.jsxs)("td",{children:["$",q.price]})]})]})]}),(0,N.jsxs)(o.Z.Group,{className:"mb-3",children:[(0,N.jsx)(o.Z.Check,{inline:!0,type:"radio",name:"paymentType",value:"stripe",label:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(w.LazyLoadImage,{src:s(89511),alt:"visa",height:"25",className:"me-1"}),(0,N.jsx)(w.LazyLoadImage,{src:s(84196),alt:"mastercard",height:"25",className:"me-1"}),(0,N.jsx)(w.LazyLoadImage,{src:s(95774),alt:"applepay",height:"23",className:"me-1"}),(0,N.jsx)(w.LazyLoadImage,{src:s(14697),alt:"googlepay",height:"25",className:"me-1"})]}),id:"stripe",checked:"stripe"===n.paymentType,onChange:r}),(0,N.jsx)(o.Z.Check,{inline:!0,type:"radio",name:"paymentType",value:"paypal",label:(0,N.jsx)(w.LazyLoadImage,{src:s(90102),height:"24",alt:"paypal"}),id:"paypal",checked:"paypal"===n.paymentType,onChange:r})]}),(0,N.jsx)("div",{className:"d-grid",children:(0,N.jsxs)(p.Z,{variant:"primary",type:"submit",className:"float-end",children:[(0,N.jsx)("i",{className:"fa fa-sign-in"})," Sign up and buy now"]})})]})}})]})]})})})}},89743:function(e,a,s){var r=s(1413),n=s(45987),t=s(81694),i=s.n(t),c=s(72791),l=s(10162),o=s(80184),m=["bsPrefix","className","as"],d=c.forwardRef((function(e,a){var s=e.bsPrefix,t=e.className,c=e.as,d=void 0===c?"div":c,u=(0,n.Z)(e,m),p=(0,l.vE)(s,"row"),h=(0,l.pi)(),f=(0,l.zG)(),x="".concat(p,"-cols"),j=[];return h.forEach((function(e){var a,s=u[e];delete u[e],a=null!=s&&"object"===typeof s?s.cols:s;var r=e!==f?"-".concat(e):"";null!=a&&j.push("".concat(x).concat(r,"-").concat(a))})),(0,o.jsx)(d,(0,r.Z)((0,r.Z)({ref:a},u),{},{className:i().apply(void 0,[t,p].concat(j))}))}));d.displayName="Row",a.Z=d}}]);
//# sourceMappingURL=9861.cdc1b9b8.chunk.js.map