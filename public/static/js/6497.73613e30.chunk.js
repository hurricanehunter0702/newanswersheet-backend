"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6497],{26535:function(e,n,a){a.d(n,{Z:function(){return p}});var t=a(1413),r=a(95313),i=a(62591),s=a(43360),c=a(42982),o=a(72791),l=a(8116),d=a(80184),u=function(e,n){var a=n-e+1;return Array.from({length:a},(function(n,a){return a+e}))},f=function(e){var n=e.search,a=e.pagination,r=e.onChange,i=e.siblingCount,s=void 0===i?1:i,f=e.className,p=function(e){var n=e.totalCount,a=e.pageSize,t=e.siblingCount,r=void 0===t?1:t,i=e.currentPage;return(0,o.useMemo)((function(){var e=Math.ceil(n/a);if(r+5>=e)return u(1,e);var t=Math.max(i-r,1),s=Math.min(i+r,e),o=t>2,l=s<e-2,d=1,f=e;if(!o&&l){var p=u(1,3+2*r);return[].concat((0,c.Z)(p),["DOTS",e])}if(o&&!l){var h=u(e-(3+2*r)+1,e);return[d,"DOTS"].concat((0,c.Z)(h))}if(o&&l){var v=u(t,s);return[d,"DOTS"].concat((0,c.Z)(v),["DOTS",f])}}),[n,a,r,i])}({currentPage:a.page,totalCount:a.totalCount,pageSize:a.pageSize,siblingCount:s});if(0===a.page||p.length<1)return null;var h=p[p.length-1];return(0,d.jsxs)(l.Z,{className:f,children:[(0,d.jsx)(l.Z.First,{onClick:function(){r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:1})})}}),(0,d.jsx)(l.Z.Prev,{onClick:function(){a.page>1&&r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:a.page-1})})}}),p.map((function(e,i){return"DOTS"===e?(0,d.jsx)(l.Z.Ellipsis,{},i):a.page===e?(0,d.jsx)(l.Z.Item,{active:!0,onClick:function(){return r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:e})})},children:e},i):(0,d.jsx)(l.Z.Item,{onClick:function(){return r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:e})})},children:e},i)})),(0,d.jsx)(l.Z.Next,{onClick:function(){a.page<h&&r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:a.page+1})})}}),(0,d.jsx)(l.Z.Last,{onClick:function(){r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:h})})}})]})},p=function(e){var n=e.pageItems,a=void 0===n?[5,10,20,50,100]:n,c=e.columns,o=e.data,l=void 0===o?[]:o,u=e.options,p=void 0===u?{responsive:!0,bordered:!0,center:!0}:u,h=e.pagination,v=void 0===h?{page:1,totalCount:10,pageSize:10}:h,g=e.sort,m=e.search,x=e.onChange,Z=e.emptyText,j=void 0===Z?"Empty Data":Z,y=e.onRow,b=void 0===y?function(){}:y;return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,d.jsx)(r.Z.Select,{size:"sm",style:{maxWidth:100},defaultValue:v.pageSize,onChange:function(e){return x({search:m,pagination:(0,t.Z)((0,t.Z)({},v),{},{pageSize:Number(e.target.value),page:1})})},children:a.map((function(e,n){return(0,d.jsx)("option",{value:e,children:e},n)}))}),(0,d.jsx)(r.Z.Control,{size:"sm",type:"text",placeholder:"Search...",style:{maxWidth:200},onKeyUp:function(e){return function(e){13===e.keyCode&&x({search:e.target.value,pagination:(0,t.Z)((0,t.Z)({},v),{},{page:1})})}(e)}})]}),(0,d.jsxs)(i.Z,{className:"datatable "+(p.center?"text-center":""),responsive:p.responsive,bordered:p.bordered,hover:!0,children:[(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{children:c.map((function(e,n){return(0,d.jsxs)("th",{style:{width:e.width?e.width:"auto"},children:[e.name,!1!==e.sortable&&(0,d.jsxs)(s.Z,{className:"sort-btn",size:"sm",variant:"link",onClick:function(){return function(e,n){var a="asc";void 0===n?a="asc":"asc"===n.dir?a="desc":"desc"===n.dir&&(a="asc"),x({search:m,pagination:v,sort:{key:e,dir:a}})}(e.key,g)},children:[("undefined"===typeof g||g.key!==e.key)&&(0,d.jsx)("i",{className:"fa fa-arrows-v"}),"undefined"!==typeof g&&g.key===e.key&&"asc"===g.dir&&(0,d.jsx)("i",{className:"fa fa-long-arrow-up"}),"undefined"!==typeof g&&g.key===e.key&&"desc"===g.dir&&(0,d.jsx)("i",{className:"fa fa-long-arrow-down"})]})]},n)}))})}),(0,d.jsx)("tbody",{children:l.length?l.map((function(e,n){return(0,d.jsx)("tr",{onClick:function(){return b(e._id)},children:c.map((function(a,t){return a.render?(0,d.jsx)("td",{children:a.render(e,n)},t):(0,d.jsx)("td",{children:e[a.key]},t)}))},n)})):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:c.length,className:"text-center text-danger",children:j})})})]}),(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:(0,d.jsx)(f,{search:m,pagination:v,onChange:x})})]})}},96497:function(e,n,a){a.r(n);var t=a(74165),r=a(1413),i=a(15861),s=a(70885),c=a(72791),o=a(57689),l=a(47022),d=a(9140),u=a(26535),f=a(85239),p=a(72426),h=a.n(p),v=a(80184);n.default=function(){var e=(0,o.s0)(),n=(0,c.useState)(!1),a=(0,s.Z)(n,2),p=a[0],g=a[1],m=(0,c.useState)([]),x=(0,s.Z)(m,2),Z=x[0],j=x[1],y=(0,c.useState)(),b=(0,s.Z)(y,2),k=b[0],N=b[1],C=(0,c.useState)(""),w=(0,s.Z)(C,2),S=w[0],P=w[1],z=(0,c.useState)({page:1,totalCount:0,pageSize:10}),I=(0,s.Z)(z,2),D=I[0],T=I[1],E=[{key:"_id",name:"No",width:65,render:function(e,n){return n+1}},{key:"invoice_id",name:"Invoice number"},{key:"item_name",name:"Item"},{key:"amount",name:"Amount"},{key:"gst",name:"GST"},{key:"currency",name:"Currency"},{key:"paid_date",name:"Paid date",render:function(e,n){return h()(e.paid_date).format("YYYY-MM-DD HH:mm:ss")}}];(0,c.useEffect)((function(){document.title="AnswerSheet - Invoices"}),[]),(0,c.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.get("invoices",{params:{search:S,length:D.pageSize,page:D.page,sortKey:k?k.key:"",sortDir:k?k.dir:""}});case 2:n=e.sent,a=n.data,j(a.data),T((0,r.Z)((0,r.Z)({},D),{},{totalCount:a.totalCount}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[p]);return(0,v.jsx)("div",{className:"invoices-container py-4",children:(0,v.jsx)(l.Z,{children:(0,v.jsxs)(d.Z,{className:"create-subject-container",children:[(0,v.jsx)(d.Z.Header,{bsPrefix:"card-header py-3 bg-white",children:(0,v.jsx)(d.Z.Title,{bsPrefix:"card-title mb-0",as:"h2",children:"Invoices"})}),(0,v.jsx)(d.Z.Body,{children:(0,v.jsx)(u.Z,{columns:E,data:Z,sort:k,search:S,pagination:D,emptyText:"No invoices available",onRow:function(n){console.log(n),e("/invoices/".concat(n))},onChange:function(e){var n=e.search,a=e.pagination,t=e.sort;N(t),P(n),T(a),g(!p)}})})]})})})}},85239:function(e,n,a){var t=a(61044),r=function(){return window.localStorage.getItem("token")?localStorage.getItem("token"):null},i=t.ZP.create({baseURL:"/api/v1/",timeout:15e3,headers:{Authorization:"Bearer ".concat(r())}});i.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(r()),e})),i.interceptors.response.use((function(e){return e}),(function(e){return 401!==e.response.status&&403!==e.response.status&&406!==e.response.status||(window.localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),n.Z=i},8116:function(e,n,a){a.d(n,{Z:function(){return k}});var t=a(1413),r=a(45987),i=a(81694),s=a.n(i),c=a(72791),o=a(10162),l=a(16445),d=a(80184),u=["active","disabled","className","style","activeLabel","children"],f=["children"],p=c.forwardRef((function(e,n){var a=e.active,i=e.disabled,c=e.className,o=e.style,f=e.activeLabel,p=e.children,h=(0,r.Z)(e,u),v=a||i?"span":l.Z;return(0,d.jsx)("li",{ref:n,style:o,className:s()(c,"page-item",{active:a,disabled:i}),children:(0,d.jsxs)(v,(0,t.Z)((0,t.Z)({className:"page-link"},h),{},{children:[p,a&&f&&(0,d.jsx)("span",{className:"visually-hidden",children:f})]}))})}));p.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},p.displayName="PageItem";var h=p;function v(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=c.forwardRef((function(e,i){var s=e.children,c=(0,r.Z)(e,f);return(0,d.jsxs)(p,(0,t.Z)((0,t.Z)({},c),{},{ref:i,children:[(0,d.jsx)("span",{"aria-hidden":"true",children:s||n}),(0,d.jsx)("span",{className:"visually-hidden",children:a})]}))}));return i.displayName=e,i}var g=v("First","\xab"),m=v("Prev","\u2039","Previous"),x=v("Ellipsis","\u2026","More"),Z=v("Next","\u203a"),j=v("Last","\xbb"),y=["bsPrefix","className","size"],b=c.forwardRef((function(e,n){var a=e.bsPrefix,i=e.className,c=e.size,l=(0,r.Z)(e,y),u=(0,o.vE)(a,"pagination");return(0,d.jsx)("ul",(0,t.Z)((0,t.Z)({ref:n},l),{},{className:s()(i,u,c&&"".concat(u,"-").concat(c))}))}));b.displayName="Pagination";var k=Object.assign(b,{First:g,Prev:m,Ellipsis:x,Item:h,Next:Z,Last:j})},62591:function(e,n,a){var t=a(1413),r=a(45987),i=a(81694),s=a.n(i),c=a(72791),o=a(10162),l=a(80184),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=c.forwardRef((function(e,n){var a=e.bsPrefix,i=e.className,c=e.striped,u=e.bordered,f=e.borderless,p=e.hover,h=e.size,v=e.variant,g=e.responsive,m=(0,r.Z)(e,d),x=(0,o.vE)(a,"table"),Z=s()(i,x,v&&"".concat(x,"-").concat(v),h&&"".concat(x,"-").concat(h),c&&"".concat(x,"-").concat("string"===typeof c?"striped-".concat(c):"striped"),u&&"".concat(x,"-bordered"),f&&"".concat(x,"-borderless"),p&&"".concat(x,"-hover")),j=(0,l.jsx)("table",(0,t.Z)((0,t.Z)({},m),{},{className:Z,ref:n}));if(g){var y="".concat(x,"-responsive");return"string"===typeof g&&(y="".concat(y,"-").concat(g)),(0,l.jsx)("div",{className:y,children:j})}return j}));n.Z=u}}]);
//# sourceMappingURL=6497.73613e30.chunk.js.map