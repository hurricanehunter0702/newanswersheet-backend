{"version":3,"file":"static/js/4053.4ce12755.chunk.js","mappings":"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","sources":["pages/admin/EditSubTopic.jsx","services/Http.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport { Card, Form, Button } from \"react-bootstrap\";\r\nimport { Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport Http from \"../../services/Http\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\n\r\nconst EditSubTopic = () => {\r\n    const params = useParams();\r\n    const editorRef = useRef(null);\r\n    const navigate = useNavigate();\r\n    const [years, setYears] = useState([]);\r\n    const [subjects, setSubjects] = useState([]);\r\n    const [topics, setTopics] = useState([]);\r\n    const [subTopic, setSubTopic] = useState({ year: \"\", subject: \"\", topic: \"\", name: \"\", content: \"\", permission: 0 });\r\n    const validationSchema = yup.object({\r\n        year: yup.string('Choose a year.')\r\n            .required('Year is required.'),\r\n        subject: yup.string('Choose a subject.')\r\n            .required('Subject is required'),\r\n        topic: yup.string('Choose a topic.')\r\n            .required('Topic is required.'),\r\n        name: yup.string('Enter a sub topic name.')\r\n            .test('len', 'Must be less than or equal to 64 characters.', function(val) {\r\n                return val.length <= 64;\r\n            })\r\n            .required('Sub topic name is required.')\r\n    });\r\n\r\n    useEffect(() => {\r\n        const getYears = async () => {\r\n            let { data } = await Http.get(\"/admin/years/get-all-populate\");\r\n            setYears(data);\r\n            setSubjects(data.length ? data[0].subjects : []);\r\n            setTopics(data.length && data[0].subjects.length ? data[0].subjects[0].topics : []);\r\n            setSubTopic({\r\n                ...subTopic,\r\n                year: data.length ? data[0]._id : \"\",\r\n                subject: (data.length && data[0].subjects.length) ? data[0].subjects[0]._id : \"\",\r\n                topic: (data.length && data[0].subjects.length && data[0].subjects[0].topics.length) ? data[0].subjects[0].topics[0]._id : \"\" \r\n            });\r\n        }\r\n        getYears();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const getSubTopic = async () => {\r\n            let { id } = params;\r\n            let { data } = await Http.get(`/admin/sub-topics/${id}`);\r\n            if (data.success) { \r\n                setSubTopic({\r\n                    ...subTopic,\r\n                    year: data.data.topic.subject.year._id,\r\n                    subject: data.data.topic.subject._id,\r\n                    topic: data.data.topic._id,\r\n                    name: data.data.name,\r\n                    content: data.data.content,\r\n                    permission: data.data.permission\r\n                })\r\n            } else {\r\n                toast.error(data.msg);\r\n            }\r\n        }\r\n        getSubTopic();\r\n    }, []);\r\n    \r\n    const onChangeYear = (ev) => {\r\n        let idx = years.findIndex(year => year._id === ev.target.value);\r\n        setSubjects(years[idx].subjects);\r\n        setTopics(years[idx].subjects.length ? years[idx].subjects[0].topics : []);\r\n        setSubTopic({\r\n            ...subTopic,\r\n            year: ev.target.value,\r\n            subject: years[idx].subjects.length ? years[idx].subjects[0]._id : \"\",\r\n            topic: years[idx].subjects.length && years[idx].subjects[0].topics.length ? years[idx].subjects[0].topics[0]._id : \"\"\r\n        });\r\n    }\r\n\r\n    const onChangeSubject = (ev) => {\r\n        let idx = subjects.findIndex(subject => subject._id === ev.target.value);\r\n        setTopics(subjects[idx].topics);\r\n        setSubTopic({\r\n            ...subTopic,\r\n            subject: ev.target.value,\r\n            topic: subjects[idx].topics.length ? subjects[idx].topics[0]._id : \"\"\r\n        });\r\n    }\r\n\r\n    const onChangeTopic = (ev) => {\r\n        setSubTopic({\r\n            ...subTopic,\r\n            topic: ev.target.value\r\n        });\r\n    }\r\n\r\n    const onChangePermission = (ev) => {\r\n        setSubTopic({\r\n            ...subTopic,\r\n            permission: Number(ev.target.value)\r\n        });\r\n    }\r\n    const onUpdate = async (subTopic, { resetForm }) => {\r\n        let { id } = params;\r\n        subTopic.content = editorRef.current.getContent();\r\n        let { data } = await Http.put(`admin/sub-topics/${id}`, subTopic);\r\n        if (data.success) {\r\n            toast.success(data.msg);\r\n            resetForm();\r\n            navigate(\"/admin/sub-topics\");\r\n        } else {\r\n            toast.error(data.msg);\r\n        }\r\n    }\r\n    return (\r\n        <Card>\r\n            <Card.Header style={{background: \"#3c4b64\"}} bsPrefix=\"card-header py-3\">\r\n                <Card.Title bsPrefix=\"card-title mb-0 text-light\" as=\"h5\">\r\n                    Edit subtopic\r\n                </Card.Title>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Formik\r\n                    validationSchema={validationSchema}\r\n                    validateOnChange={false}\r\n                    validateOnBlur={false}\r\n                    onSubmit={onUpdate}\r\n                    initialValues={subTopic}\r\n                    enableReinitialize\r\n                >{({handleSubmit, handleChange, handleBlur, values, touched, errors}) => (\r\n                    <Form noValidate onSubmit={handleSubmit}>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Label>Year:</Form.Label>\r\n                            <Form.Select \r\n                                name=\"year\"\r\n                                value={subTopic.year}\r\n                                onChange={onChangeYear}\r\n                                onBlur={handleBlur}\r\n                                touched={touched}\r\n                                isInvalid={!!errors.year}\r\n                            >\r\n                                {years.map((year, idx) => <option key={idx} value={year._id}>{year.name}</option>)}\r\n                            </Form.Select>\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.year}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Label>Subject:</Form.Label>\r\n                            <Form.Select \r\n                                name=\"subject\"\r\n                                value={subTopic.subject}\r\n                                onChange={onChangeSubject}\r\n                                onBlur={handleBlur}\r\n                                touched={touched}\r\n                                isInvalid={!!errors.subject}\r\n                            >\r\n                                {subjects.map((subject, idx) => <option key={idx} value={subject._id}>{subject.name}</option>)}\r\n                            </Form.Select>\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.subject}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Label>Topic:</Form.Label>\r\n                            <Form.Select \r\n                                name=\"topic\"\r\n                                value={subTopic.topic}\r\n                                onChange={onChangeTopic}\r\n                                onBlur={handleBlur}\r\n                                touched={touched}\r\n                                isInvalid={!!errors.topic}\r\n                            >\r\n                                {topics.map((topic, idx) => <option key={idx} value={topic._id}>{topic.name}</option>)}\r\n                            </Form.Select>\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.topic}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Label>Name:</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Please enter a sub topic name.\"\r\n                                name=\"name\"\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                                value={values.name}\r\n                                touched={touched}\r\n                                isInvalid={!!errors.name}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.name}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Check\r\n                                inline\r\n                                type=\"radio\"\r\n                                name=\"permission\"\r\n                                label=\"Open\"\r\n                                id=\"permission-1\"\r\n                                value=\"0\"\r\n                                checked={values.permission === 0}\r\n                                onChange={onChangePermission}\r\n                                onBlur={handleBlur}\r\n                            />\r\n                            <Form.Check \r\n                                inline\r\n                                type=\"radio\"\r\n                                name=\"permission\"\r\n                                label=\"Free\"\r\n                                id=\"permission-2\"\r\n                                value=\"1\"\r\n                                checked={values.permission === 1}\r\n                                onChange={onChangePermission}\r\n                                onBlur={handleBlur}\r\n                            />\r\n                            <Form.Check\r\n                                inline\r\n                                type=\"radio\"\r\n                                name=\"permission\"\r\n                                label=\"Premium\"\r\n                                id=\"permission-3\"\r\n                                value=\"2\"\r\n                                checked={values.permission === 2}\r\n                                onChange={onChangePermission}\r\n                                onBlur={handleBlur}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Label>Description:</Form.Label>\r\n                            <Editor\r\n                                tinymceScriptSrc={process.env.PUBLIC_URL + '/tinymce/tinymce.min.js'}\r\n                                onInit={(ev, editor) => editorRef.current = editor}\r\n                                init={{\r\n                                    height: 450,\r\n                                    menubar: true,\r\n                                    plugins: ['image', 'grid', 'tiny_mce_wiris', 'code', 'table', 'link', 'media', 'codesample'],\r\n                                    toolbar: 'undo redo | formatselect | ' +\r\n                                    'bold italic backcolor | alignleft aligncenter ' +\r\n                                    'alignright alignjustify | bullist numlist outdent indent | ' +\r\n                                    'removeformat | grid_insert | tiny_mce_wiris_formulaEditor tiny_mce_wiris_formulaEditorChemistry | help',\r\n                                    draggable_modal: true,\r\n                                    init_instance_callback: function(editor) {\r\n                                        editor.contentWindow.addEventListener(\"copy\", function(ev) {\r\n                                            ev.preventDefault()\r\n                                        });\r\n                                        editor.contentWindow.addEventListener(\"paste\", function(ev) {\r\n                                            ev.preventDefault();\r\n                                        });\r\n                                        editor.contentWindow.addEventListener(\"keydown\", function(ev) {\r\n                                            if((ev.ctrlKey || ev.metaKey) && (ev.key === \"p\" || ev.charCode === 16 || ev.charCode === 112 || ev.keyCode === 80) ){\r\n                                                ev.cancelBubble = true;\r\n                                                ev.preventDefault();\r\n                                                ev.stopImmediatePropagation();\r\n                                            }  \r\n                                        })\r\n                                        \r\n                                    },\r\n                                    content_style: 'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }'\r\n                                }}\r\n                                name=\"content\"\r\n                                initialValue={values.content}\r\n                            />\r\n                        </Form.Group>\r\n                        <Button type=\"submit\" variant=\"primary\" className=\"float-end\"><i className=\"fa fa-save\"></i> Save</Button>\r\n                    </Form>\r\n                )}</Formik>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}   \r\n\r\nexport default EditSubTopic;","import axios from \"axios\";\r\nconst getToken = () => {\r\n    return window.localStorage.getItem(\"token\") ? localStorage.getItem(\"token\") : null;\r\n}\r\n\r\nconst http = axios.create({\r\n    // baseURL: \"http://localhost:5000/api/v1/\",\r\n    baseURL: \"/api/v1/\",\r\n    timeout: 15000,\r\n    headers: {\r\n        Authorization: `Bearer ${getToken()}`\r\n    }\r\n});\r\n\r\nhttp.interceptors.request.use(function(config) {\r\n    config.headers.Authorization = `Bearer ${getToken()}`;\r\n    return config;\r\n});\r\nhttp.interceptors.response.use(function(response) {\r\n    return response;\r\n}, function(err) {\r\n    if (err.response.status === 401 || err.response.status === 403 || err.response.status === 406) {\r\n        window.localStorage.clear();\r\n        window.location.href = \"/login\";\r\n    } \r\n    return Promise.reject(err);\r\n});\r\n\r\nexport default http;"],"names":["params","useParams","editorRef","useRef","navigate","useNavigate","useState","years","setYears","subjects","setSubjects","topics","setTopics","year","subject","topic","name","content","permission","subTopic","setSubTopic","validationSchema","yup","required","test","val","length","useEffect","getYears","Http","data","_id","getSubTopic","id","success","toast","msg","onChangeYear","ev","idx","findIndex","target","value","onChangeSubject","onChangeTopic","onChangePermission","Number","onUpdate","resetForm","current","getContent","style","background","bsPrefix","as","validateOnChange","validateOnBlur","onSubmit","initialValues","enableReinitialize","handleSubmit","handleChange","handleBlur","values","touched","errors","noValidate","className","onChange","onBlur","isInvalid","map","type","placeholder","inline","label","checked","tinymceScriptSrc","onInit","editor","init","height","menubar","plugins","toolbar","draggable_modal","init_instance_callback","contentWindow","addEventListener","preventDefault","ctrlKey","metaKey","key","charCode","keyCode","cancelBubble","stopImmediatePropagation","content_style","initialValue","variant","getToken","window","localStorage","getItem","http","axios","baseURL","timeout","headers","Authorization","interceptors","request","use","config","response","err","status","clear","location","href","Promise","reject"],"sourceRoot":""}