"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4345],{34345:function(e,a,r){r.r(a);var s=r(74165),n=r(15861),t=r(70885),i=r(72791),o=r(47022),c=r(9140),d=r(89743),l=r(2677),u=r(95313),m=r(99410),h=r(43360),f=r(59434),x=r(76887),Z=r(55705),p=r(81724),v=r(9085),j=r(85239),b=r(80184);a.default=function(){var e=(0,f.I0)(),a=(0,f.v9)((function(e){return e.user.user})),r=(0,f.v9)((function(e){return e.user.token})),w=(0,i.useState)({firstName:"",lastName:"",email:""}),N=(0,t.Z)(w,2),y=N[0],g=N[1],C=(0,i.useState)({password:"",confirmPassword:""}),P=(0,t.Z)(C,2),k=P[0],S=(P[1],p.Ry({firstName:p.Z_().required("First name is required."),lastName:p.Z_().required("Last name is required."),email:p.Z_().email("Enter a vaild email.").required("Email is required.")})),I=p.Ry({password:p.Z_().min(8,"Password should be minimum 8 characters in length.").required("Password is required."),confirmPassword:p.Z_().test("password-match","Password and Confirm password do not match.",(function(e){return this.parent.password===e}))});(0,i.useEffect)((function(){document.title="AnswerSheet - Profile"}),[]),(0,i.useEffect)((function(){g(a)}),[a]);var R=function(){var a=(0,n.Z)((0,s.Z)().mark((function a(n,t){var i,o,c;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.resetForm,i=n._id,a.next=4,j.Z.put("users/".concat(i),n);case 4:o=a.sent,(c=o.data).status?(v.Am.success(c.msg),e((0,x.r4)({user:c.data,token:r}))):v.Am.error(c.msg);case 7:case"end":return a.stop()}}),a)})));return function(e,r){return a.apply(this,arguments)}}(),E=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(a,r){var n,t,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.resetForm,e.next=3,j.Z.patch("users/".concat(y._id),{password:a.password});case 3:t=e.sent,(i=t.data).status?(n(),v.Am.success(i.msg)):v.Am.error(i.msg);case 6:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}();return(0,b.jsx)(o.Z,{className:"py-3",children:(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(c.Z.Header,{style:{background:"#3c4b64"},bsPrefix:"card-header py-3",children:(0,b.jsx)(c.Z.Title,{as:"h5",bsPrefix:"card-title mb-0 text-light",children:"Profile"})}),(0,b.jsx)(c.Z.Body,{children:(0,b.jsxs)(d.Z,{children:[(0,b.jsxs)(l.Z,{md:6,children:[(0,b.jsx)("h4",{className:"mb-3",children:"Update profile"}),(0,b.jsx)(Z.J9,{enableReinitialize:!0,validationSchema:S,validateOnChange:!1,validateOnBlur:!1,onSubmit:R,initialValues:y,children:function(e){var a=e.handleSubmit,r=e.handleChange,s=e.values,n=e.touched,t=e.errors;return(0,b.jsx)(u.Z,{noValidate:!0,onSubmit:a,children:(0,b.jsxs)(d.Z,{children:[(0,b.jsx)(l.Z,{md:6,children:(0,b.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,b.jsx)(u.Z.Label,{children:"First name:"}),(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(m.Z.Text,{children:(0,b.jsx)("i",{className:"fa fa-user"})}),(0,b.jsx)(u.Z.Control,{type:"text",name:"firstName",value:s.firstName,onChange:r,isInvalid:!!t.firstName,touched:n}),(0,b.jsx)(u.Z.Control.Feedback,{type:"invalid",children:t.firstName})]})]})}),(0,b.jsx)(l.Z,{md:6,children:(0,b.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,b.jsx)(u.Z.Label,{children:"Last name:"}),(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(m.Z.Text,{children:(0,b.jsx)("i",{className:"fa fa-user"})}),(0,b.jsx)(u.Z.Control,{type:"text",name:"lastName",value:s.lastName,onChange:r,isInvalid:!!t.lastName,touched:n}),(0,b.jsx)(u.Z.Control.Feedback,{type:"invalid",children:t.lastName})]})]})}),(0,b.jsxs)(l.Z,{md:12,children:[(0,b.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,b.jsx)(u.Z.Label,{children:"Email:"}),(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(m.Z.Text,{children:(0,b.jsx)("i",{className:"fa fa-envelope"})}),(0,b.jsx)(u.Z.Control,{type:"email",name:"email",value:s.email,onChange:r,isInvalid:!!t.email,touched:n}),(0,b.jsx)(u.Z.Control.Feedback,{type:"invalid",children:t.email})]})]}),(0,b.jsx)(u.Z.Group,{children:(0,b.jsxs)(h.Z,{type:"submit",variant:"primary",className:"float-end",children:[(0,b.jsx)("i",{className:"fa fa-save"})," Update"]})})]})]})})}})]}),(0,b.jsxs)(l.Z,{md:6,children:[(0,b.jsx)("h4",{className:"mb-3",children:"Change password"}),(0,b.jsx)(Z.J9,{enableReinitialize:!0,validationSchema:I,validateOnChange:!1,validateOnBlur:!1,onSubmit:E,initialValues:k,children:function(e){var a=e.handleSubmit,r=e.handleChange,s=e.values,n=e.touched,t=e.errors;return(0,b.jsxs)(u.Z,{noValidate:!0,onSubmit:a,children:[(0,b.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,b.jsx)(u.Z.Label,{children:"New password:"}),(0,b.jsx)(u.Z.Control,{type:"password",name:"password",value:s.password,onChange:r,isInvalid:!!t.password,touched:n}),(0,b.jsx)(u.Z.Control.Feedback,{type:"invalid",children:t.password})]}),(0,b.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,b.jsx)(u.Z.Label,{children:"Confirm password:"}),(0,b.jsx)(u.Z.Control,{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:r,isInvalid:!!t.confirmPassword,touched:n}),(0,b.jsx)(u.Z.Control.Feedback,{type:"invalid",children:t.confirmPassword})]}),(0,b.jsxs)(h.Z,{type:"submit",variant:"primary",style:{float:"right"},children:[(0,b.jsx)("i",{className:"fa fa-edit"})," Change password"]})]})}})]})]})})]})})}},85239:function(e,a,r){var s=r(61044),n=function(){return window.localStorage.getItem("token")?localStorage.getItem("token"):null},t=s.ZP.create({baseURL:"/api/v1/",timeout:15e3,headers:{Authorization:"Bearer ".concat(n())}});t.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(n()),e})),t.interceptors.response.use((function(e){return e}),(function(e){return 401!==e.response.status&&403!==e.response.status&&406!==e.response.status||(window.localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),a.Z=t},9140:function(e,a,r){r.d(a,{Z:function(){return R}});var s=r(1413),n=r(45987),t=r(81694),i=r.n(t),o=r(72791),c=r(10162),d=r(66543),l=r(27472),u=r(80184),m=["bsPrefix","className","variant","as"],h=o.forwardRef((function(e,a){var r=e.bsPrefix,t=e.className,o=e.variant,d=e.as,l=void 0===d?"img":d,h=(0,n.Z)(e,m),f=(0,c.vE)(r,"card-img");return(0,u.jsx)(l,(0,s.Z)({ref:a,className:i()(o?"".concat(f,"-").concat(o):f,t)},h))}));h.displayName="CardImg";var f=h,x=r(96040),Z=["bsPrefix","className","as"],p=o.forwardRef((function(e,a){var r=e.bsPrefix,t=e.className,d=e.as,l=void 0===d?"div":d,m=(0,n.Z)(e,Z),h=(0,c.vE)(r,"card-header"),f=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:h}}),[h]);return(0,u.jsx)(x.Z.Provider,{value:f,children:(0,u.jsx)(l,(0,s.Z)((0,s.Z)({ref:a},m),{},{className:i()(t,h)}))})}));p.displayName="CardHeader";var v=p,j=["bsPrefix","className","bg","text","border","body","children","as"],b=(0,l.Z)("h5"),w=(0,l.Z)("h6"),N=(0,d.Z)("card-body"),y=(0,d.Z)("card-title",{Component:b}),g=(0,d.Z)("card-subtitle",{Component:w}),C=(0,d.Z)("card-link",{Component:"a"}),P=(0,d.Z)("card-text",{Component:"p"}),k=(0,d.Z)("card-footer"),S=(0,d.Z)("card-img-overlay"),I=o.forwardRef((function(e,a){var r=e.bsPrefix,t=e.className,o=e.bg,d=e.text,l=e.border,m=e.body,h=e.children,f=e.as,x=void 0===f?"div":f,Z=(0,n.Z)(e,j),p=(0,c.vE)(r,"card");return(0,u.jsx)(x,(0,s.Z)((0,s.Z)({ref:a},Z),{},{className:i()(t,p,o&&"bg-".concat(o),d&&"text-".concat(d),l&&"border-".concat(l)),children:m?(0,u.jsx)(N,{children:h}):h}))}));I.displayName="Card",I.defaultProps={body:!1};var R=Object.assign(I,{Img:f,Title:y,Subtitle:g,Body:N,Link:C,Text:P,Header:v,Footer:k,ImgOverlay:S})},99410:function(e,a,r){var s=r(45987),n=r(1413),t=r(81694),i=r.n(t),o=r(72791),c=r(66543),d=r(10162),l=r(96882),u=r(91991),m=r(80184),h=["bsPrefix","size","hasValidation","className","as"],f=(0,c.Z)("input-group-text",{Component:"span"}),x=o.forwardRef((function(e,a){var r=e.bsPrefix,t=e.size,c=e.hasValidation,l=e.className,f=e.as,x=void 0===f?"div":f,Z=(0,s.Z)(e,h);r=(0,d.vE)(r,"input-group");var p=(0,o.useMemo)((function(){return{}}),[]);return(0,m.jsx)(u.Z.Provider,{value:p,children:(0,m.jsx)(x,(0,n.Z)((0,n.Z)({ref:a},Z),{},{className:i()(l,r,t&&"".concat(r,"-").concat(t),c&&"has-validation")}))})}));x.displayName="InputGroup",a.Z=Object.assign(x,{Text:f,Radio:function(e){return(0,m.jsx)(f,{children:(0,m.jsx)(l.Z,(0,n.Z)({type:"radio"},e))})},Checkbox:function(e){return(0,m.jsx)(f,{children:(0,m.jsx)(l.Z,(0,n.Z)({type:"checkbox"},e))})}})},89743:function(e,a,r){var s=r(1413),n=r(45987),t=r(81694),i=r.n(t),o=r(72791),c=r(10162),d=r(80184),l=["bsPrefix","className","as"],u=o.forwardRef((function(e,a){var r=e.bsPrefix,t=e.className,o=e.as,u=void 0===o?"div":o,m=(0,n.Z)(e,l),h=(0,c.vE)(r,"row"),f=(0,c.pi)(),x=(0,c.zG)(),Z="".concat(h,"-cols"),p=[];return f.forEach((function(e){var a,r=m[e];delete m[e],a=null!=r&&"object"===typeof r?r.cols:r;var s=e!==x?"-".concat(e):"";null!=a&&p.push("".concat(Z).concat(s,"-").concat(a))})),(0,d.jsx)(u,(0,s.Z)((0,s.Z)({ref:a},m),{},{className:i().apply(void 0,[t,h].concat(p))}))}));u.displayName="Row",a.Z=u}}]);
//# sourceMappingURL=4345.58a987df.chunk.js.map