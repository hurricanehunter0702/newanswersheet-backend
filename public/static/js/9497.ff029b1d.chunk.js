"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9497],{237:function(e,a,r){r.r(a);var n=r(4942),t=r(1413),s=r(74165),o=r(15861),i=r(70885),c=r(72791),l=r(59434),u=r(76887),d=r(9140),f=r(89743),m=r(2677),x=r(95313),p=r(99410),v=r(43360),Z=r(85239),h=r(9085),b=r(80184);a.default=function(){var e=(0,l.I0)(),a=(0,l.v9)((function(e){return e.user.token})),r=(0,c.useState)({}),j=(0,i.Z)(r,2),N=j[0],w=j[1],y=(0,c.useState)(""),g=(0,i.Z)(y,2),P=g[0],C=g[1],k=(0,c.useState)(""),T=(0,i.Z)(k,2),R=T[0],A=T[1],E=(0,c.useState)(""),I=(0,i.Z)(E,2),S=I[0],L=I[1];(0,c.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var a,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.get("admin/users/me");case 2:a=e.sent,r=a.data,w(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var O=function(e,a){w((0,t.Z)((0,t.Z)({},N),{},(0,n.Z)({},a,e.target.value)))},z=function(){var r=(0,o.Z)((0,s.Z)().mark((function r(n){var t,o;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.next=3,Z.Z.put("/admin/users/me",N);case 3:t=r.sent,(o=t.data).status?(h.Am.success(o.msg),e((0,u.r4)({user:o.user,token:a}))):h.Am.error(o.msg);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),B=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(a){var r,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""!==P){e.next=5;break}h.Am.error("Please enter your current password."),e.next=26;break;case 5:if(""!==R){e.next=9;break}h.Am.error("Please enter your new password."),e.next=26;break;case 9:if(!(R.length<8)){e.next=13;break}h.Am.error("The password length should be at least 8 characters."),e.next=26;break;case 13:if(""!==S){e.next=17;break}h.Am.error("Please enter your confirm password."),e.next=26;break;case 17:if(R===S){e.next=21;break}h.Am.error("Passwords does not match."),e.next=26;break;case 21:return e.next=23,Z.Z.patch("/admin/users/me",{currentPassword:P,newPassword:R});case 23:r=e.sent,(n=r.data).status?(h.Am.success(n.msg),C(""),A(""),L("")):h.Am.error(n.msg);case 26:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,b.jsxs)(d.Z,{className:"create-subject-container",children:[(0,b.jsx)(d.Z.Header,{style:{background:"#3c4b64"},bsPrefix:"card-header py-3",children:(0,b.jsx)(d.Z.Title,{bsPrefix:"card-title mb-0 text-light",as:"h5",children:"Profile"})}),(0,b.jsx)(d.Z.Body,{className:"p-4",children:(0,b.jsxs)(f.Z,{children:[(0,b.jsxs)(m.Z,{md:6,sm:12,children:[(0,b.jsx)("h4",{className:"mb-3",children:"Update profile"}),Object.keys(N).length&&(0,b.jsxs)(x.Z,{onSubmit:z,children:[(0,b.jsx)(x.Z.Label,{children:"First name:"}),(0,b.jsxs)(p.Z,{className:"mb-3",children:[(0,b.jsx)(p.Z.Text,{style:{width:40},children:(0,b.jsx)("i",{className:"fa fa-user"})}),(0,b.jsx)(x.Z.Control,{type:"text",name:"firstName",value:N.firstName,onChange:function(e){return O(e,"firstName")}})]}),(0,b.jsx)(x.Z.Label,{children:"Last name:"}),(0,b.jsxs)(p.Z,{className:"mb-3",children:[(0,b.jsx)(p.Z.Text,{style:{width:40},children:(0,b.jsx)("i",{className:"fa fa-user"})}),(0,b.jsx)(x.Z.Control,{type:"text",name:"lastName",value:N.lastName,onChange:function(e){return O(e,"lastName")}})]}),(0,b.jsx)(x.Z.Label,{children:"Email:"}),(0,b.jsxs)(p.Z,{className:"mb-3",children:[(0,b.jsx)(p.Z.Text,{style:{width:40},children:(0,b.jsx)("i",{className:"fa fa-envelope"})}),(0,b.jsx)(x.Z.Control,{type:"email",name:"email",defaultValue:N.email,onChange:function(e){return O(e,"email")}})]}),(0,b.jsx)("div",{className:"form-actions float-end",children:(0,b.jsxs)(v.Z,{variant:"primary",type:"submit",children:[(0,b.jsx)("i",{className:"fa fa-save"})," Update profile"]})})]})]}),(0,b.jsxs)(m.Z,{md:6,sm:12,children:[(0,b.jsx)("h4",{className:"mb-3",children:"Change password"}),(0,b.jsxs)(x.Z,{onSubmit:B,children:[(0,b.jsx)(x.Z.Label,{children:"Current password: "}),(0,b.jsxs)(p.Z,{className:"mb-3",children:[(0,b.jsx)(p.Z.Text,{style:{width:40},children:(0,b.jsx)("i",{className:"fa fa-key"})}),(0,b.jsx)(x.Z.Control,{type:"password",name:"currentPassword",placeholder:"Please enter your current password.",value:P,onChange:function(e){return C(e.target.value)}})]}),(0,b.jsx)(x.Z.Label,{children:"New password:"}),(0,b.jsxs)(p.Z,{className:"mb-3",children:[(0,b.jsx)(p.Z.Text,{style:{width:40},children:(0,b.jsx)("i",{className:"fa fa-lock"})}),(0,b.jsx)(x.Z.Control,{type:"password",name:"newPassword",placeholder:"Please enter your new password.",value:R,onChange:function(e){return A(e.target.value)}})]}),(0,b.jsx)(x.Z.Label,{children:"Confirm password:"}),(0,b.jsxs)(p.Z,{className:"mb-3",children:[(0,b.jsx)(p.Z.Text,{style:{width:40},children:(0,b.jsx)("i",{className:"fa fa-lock"})}),(0,b.jsx)(x.Z.Control,{type:"password",name:"confirmPassword",placeholder:"Please enter your new password.",value:S,onChange:function(e){return L(e.target.value)}})]}),(0,b.jsx)("div",{className:"form-actions float-end",children:(0,b.jsxs)(v.Z,{variant:"primary",type:"submit",children:[(0,b.jsx)("i",{className:"fa fa-save"})," Change password"]})})]})]})]})})]})}},85239:function(e,a,r){var n=r(61044),t=function(){return window.localStorage.getItem("token")?localStorage.getItem("token"):null},s=n.ZP.create({baseURL:"/api/v1/",timeout:15e3,headers:{Authorization:"Bearer ".concat(t())}});s.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(t()),e})),s.interceptors.response.use((function(e){return e}),(function(e){return 401!==e.response.status&&403!==e.response.status&&406!==e.response.status||(window.localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),a.Z=s},15341:function(e,a,r){r.d(a,{FT:function(){return i}});var n=r(70885),t=r(72791),s=r(80184),o=["as","disabled"];function i(e){var a=e.tagName,r=e.disabled,n=e.href,t=e.target,s=e.rel,o=e.role,i=e.onClick,c=e.tabIndex,l=void 0===c?0:c,u=e.type;a||(a=null!=n||null!=t||null!=s?"a":"button");var d={tagName:a};if("button"===a)return[{type:u||"button",disabled:r},d];var f=function(e){(r||"a"===a&&function(e){return!e||"#"===e.trim()}(n))&&e.preventDefault(),r?e.stopPropagation():null==i||i(e)};return"a"===a&&(n||(n="#"),r&&(n=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:r?void 0:l,href:n,target:"a"===a?t:void 0,"aria-disabled":r||void 0,rel:"a"===a?s:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},d]}var c=t.forwardRef((function(e,a){var r=e.as,t=e.disabled,c=function(e,a){if(null==e)return{};var r,n,t={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],a.indexOf(r)>=0||(t[r]=e[r]);return t}(e,o),l=i(Object.assign({tagName:r,disabled:t},c)),u=(0,n.Z)(l,2),d=u[0],f=u[1].tagName;return(0,s.jsx)(f,Object.assign({},c,d,{ref:a}))}));c.displayName="Button",a.ZP=c},43360:function(e,a,r){var n=r(1413),t=r(70885),s=r(45987),o=r(81694),i=r.n(o),c=r(72791),l=r(15341),u=r(10162),d=r(80184),f=["as","bsPrefix","variant","size","active","className"],m=c.forwardRef((function(e,a){var r=e.as,o=e.bsPrefix,c=e.variant,m=e.size,x=e.active,p=e.className,v=(0,s.Z)(e,f),Z=(0,u.vE)(o,"btn"),h=(0,l.FT)((0,n.Z)({tagName:r},v)),b=(0,t.Z)(h,2),j=b[0],N=b[1].tagName;return(0,d.jsx)(N,(0,n.Z)((0,n.Z)((0,n.Z)({},j),v),{},{ref:a,className:i()(p,Z,x&&"active",c&&"".concat(Z,"-").concat(c),m&&"".concat(Z,"-").concat(m),v.href&&v.disabled&&"disabled")}))}));m.displayName="Button",m.defaultProps={variant:"primary",active:!1,disabled:!1},a.Z=m},9140:function(e,a,r){r.d(a,{Z:function(){return A}});var n=r(1413),t=r(45987),s=r(81694),o=r.n(s),i=r(72791),c=r(10162),l=r(66543),u=r(27472),d=r(80184),f=["bsPrefix","className","variant","as"],m=i.forwardRef((function(e,a){var r=e.bsPrefix,s=e.className,i=e.variant,l=e.as,u=void 0===l?"img":l,m=(0,t.Z)(e,f),x=(0,c.vE)(r,"card-img");return(0,d.jsx)(u,(0,n.Z)({ref:a,className:o()(i?"".concat(x,"-").concat(i):x,s)},m))}));m.displayName="CardImg";var x=m,p=r(96040),v=["bsPrefix","className","as"],Z=i.forwardRef((function(e,a){var r=e.bsPrefix,s=e.className,l=e.as,u=void 0===l?"div":l,f=(0,t.Z)(e,v),m=(0,c.vE)(r,"card-header"),x=(0,i.useMemo)((function(){return{cardHeaderBsPrefix:m}}),[m]);return(0,d.jsx)(p.Z.Provider,{value:x,children:(0,d.jsx)(u,(0,n.Z)((0,n.Z)({ref:a},f),{},{className:o()(s,m)}))})}));Z.displayName="CardHeader";var h=Z,b=["bsPrefix","className","bg","text","border","body","children","as"],j=(0,u.Z)("h5"),N=(0,u.Z)("h6"),w=(0,l.Z)("card-body"),y=(0,l.Z)("card-title",{Component:j}),g=(0,l.Z)("card-subtitle",{Component:N}),P=(0,l.Z)("card-link",{Component:"a"}),C=(0,l.Z)("card-text",{Component:"p"}),k=(0,l.Z)("card-footer"),T=(0,l.Z)("card-img-overlay"),R=i.forwardRef((function(e,a){var r=e.bsPrefix,s=e.className,i=e.bg,l=e.text,u=e.border,f=e.body,m=e.children,x=e.as,p=void 0===x?"div":x,v=(0,t.Z)(e,b),Z=(0,c.vE)(r,"card");return(0,d.jsx)(p,(0,n.Z)((0,n.Z)({ref:a},v),{},{className:o()(s,Z,i&&"bg-".concat(i),l&&"text-".concat(l),u&&"border-".concat(u)),children:f?(0,d.jsx)(w,{children:m}):m}))}));R.displayName="Card",R.defaultProps={body:!1};var A=Object.assign(R,{Img:x,Title:y,Subtitle:g,Body:w,Link:P,Text:C,Header:h,Footer:k,ImgOverlay:T})},96040:function(e,a,r){var n=r(72791).createContext(null);n.displayName="CardHeaderContext",a.Z=n},99410:function(e,a,r){var n=r(45987),t=r(1413),s=r(81694),o=r.n(s),i=r(72791),c=r(66543),l=r(10162),u=r(96882),d=r(91991),f=r(80184),m=["bsPrefix","size","hasValidation","className","as"],x=(0,c.Z)("input-group-text",{Component:"span"}),p=i.forwardRef((function(e,a){var r=e.bsPrefix,s=e.size,c=e.hasValidation,u=e.className,x=e.as,p=void 0===x?"div":x,v=(0,n.Z)(e,m);r=(0,l.vE)(r,"input-group");var Z=(0,i.useMemo)((function(){return{}}),[]);return(0,f.jsx)(d.Z.Provider,{value:Z,children:(0,f.jsx)(p,(0,t.Z)((0,t.Z)({ref:a},v),{},{className:o()(u,r,s&&"".concat(r,"-").concat(s),c&&"has-validation")}))})}));p.displayName="InputGroup",a.Z=Object.assign(p,{Text:x,Radio:function(e){return(0,f.jsx)(x,{children:(0,f.jsx)(u.Z,(0,t.Z)({type:"radio"},e))})},Checkbox:function(e){return(0,f.jsx)(x,{children:(0,f.jsx)(u.Z,(0,t.Z)({type:"checkbox"},e))})}})},91991:function(e,a,r){var n=r(72791).createContext(null);n.displayName="InputGroupContext",a.Z=n},89743:function(e,a,r){var n=r(1413),t=r(45987),s=r(81694),o=r.n(s),i=r(72791),c=r(10162),l=r(80184),u=["bsPrefix","className","as"],d=i.forwardRef((function(e,a){var r=e.bsPrefix,s=e.className,i=e.as,d=void 0===i?"div":i,f=(0,t.Z)(e,u),m=(0,c.vE)(r,"row"),x=(0,c.pi)(),p=(0,c.zG)(),v="".concat(m,"-cols"),Z=[];return x.forEach((function(e){var a,r=f[e];delete f[e],a=null!=r&&"object"===typeof r?r.cols:r;var n=e!==p?"-".concat(e):"";null!=a&&Z.push("".concat(v).concat(n,"-").concat(a))})),(0,l.jsx)(d,(0,n.Z)((0,n.Z)({ref:a},f),{},{className:o().apply(void 0,[s,m].concat(Z))}))}));d.displayName="Row",a.Z=d},66543:function(e,a,r){r.d(a,{Z:function(){return m}});var n=r(1413),t=r(45987),s=r(81694),o=r.n(s),i=/-(.)/g;var c=r(72791),l=r(10162),u=r(80184),d=["className","bsPrefix","as"],f=function(e){return e[0].toUpperCase()+(a=e,a.replace(i,(function(e,a){return a.toUpperCase()}))).slice(1);var a};function m(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.displayName,s=void 0===r?f(e):r,i=a.Component,m=a.defaultProps,x=c.forwardRef((function(a,r){var s=a.className,c=a.bsPrefix,f=a.as,m=void 0===f?i||"div":f,x=(0,t.Z)(a,d),p=(0,l.vE)(c,e);return(0,u.jsx)(m,(0,n.Z)({ref:r,className:o()(s,p)},x))}));return x.defaultProps=m,x.displayName=s,x}},27472:function(e,a,r){var n=r(1413),t=r(72791),s=r(81694),o=r.n(s),i=r(80184);a.Z=function(e){return t.forwardRef((function(a,r){return(0,i.jsx)("div",(0,n.Z)((0,n.Z)({},a),{},{ref:r,className:o()(a.className,e)}))}))}},42391:function(e){var a=function(){};e.exports=a}}]);
//# sourceMappingURL=9497.ff029b1d.chunk.js.map