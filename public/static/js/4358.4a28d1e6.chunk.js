"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4358],{26535:function(e,n,a){a.d(n,{Z:function(){return m}});var t=a(1413),r=a(95313),s=a(62591),o=a(43360),i=a(42982),c=a(72791),l=a(8116),d=a(80184),u=function(e,n){var a=n-e+1;return Array.from({length:a},(function(n,a){return a+e}))},f=function(e){var n=e.search,a=e.pagination,r=e.onChange,s=e.siblingCount,o=void 0===s?1:s,f=e.className,m=function(e){var n=e.totalCount,a=e.pageSize,t=e.siblingCount,r=void 0===t?1:t,s=e.currentPage;return(0,c.useMemo)((function(){var e=Math.ceil(n/a);if(r+5>=e)return u(1,e);var t=Math.max(s-r,1),o=Math.min(s+r,e),c=t>2,l=o<e-2,d=1,f=e;if(!c&&l){var m=u(1,3+2*r);return[].concat((0,i.Z)(m),["DOTS",e])}if(c&&!l){var p=u(e-(3+2*r)+1,e);return[d,"DOTS"].concat((0,i.Z)(p))}if(c&&l){var h=u(t,o);return[d,"DOTS"].concat((0,i.Z)(h),["DOTS",f])}}),[n,a,r,s])}({currentPage:a.page,totalCount:a.totalCount,pageSize:a.pageSize,siblingCount:o});if(0===a.page||m.length<1)return null;var p=m[m.length-1];return(0,d.jsxs)(l.Z,{className:f,children:[(0,d.jsx)(l.Z.First,{onClick:function(){r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:1})})}}),(0,d.jsx)(l.Z.Prev,{onClick:function(){a.page>1&&r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:a.page-1})})}}),m.map((function(e,s){return"DOTS"===e?(0,d.jsx)(l.Z.Ellipsis,{},s):a.page===e?(0,d.jsx)(l.Z.Item,{active:!0,onClick:function(){return r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:e})})},children:e},s):(0,d.jsx)(l.Z.Item,{onClick:function(){return r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:e})})},children:e},s)})),(0,d.jsx)(l.Z.Next,{onClick:function(){a.page<p&&r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:a.page+1})})}}),(0,d.jsx)(l.Z.Last,{onClick:function(){r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:p})})}})]})},m=function(e){var n=e.pageItems,a=void 0===n?[5,10,20,50,100]:n,i=e.columns,c=e.data,l=void 0===c?[]:c,u=e.options,m=void 0===u?{responsive:!0,bordered:!0,center:!0}:u,p=e.pagination,h=void 0===p?{page:1,totalCount:10,pageSize:10}:p,Z=e.sort,v=e.search,g=e.onChange,b=e.emptyText,x=void 0===b?"Empty data":b,y=e.onRow,j=void 0===y?function(){}:y;return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,d.jsx)(r.Z.Select,{size:"sm",style:{maxWidth:100},defaultValue:h.pageSize,onChange:function(e){return g({search:v,pagination:(0,t.Z)((0,t.Z)({},h),{},{pageSize:Number(e.target.value),page:1})})},children:a.map((function(e,n){return(0,d.jsx)("option",{value:e,children:e},n)}))}),(0,d.jsx)(r.Z.Control,{size:"sm",type:"text",placeholder:"Search...",style:{maxWidth:200},onKeyUp:function(e){return function(e){13===e.keyCode&&g({search:e.target.value,pagination:(0,t.Z)((0,t.Z)({},h),{},{page:1})})}(e)}})]}),(0,d.jsxs)(s.Z,{className:"datatable "+(m.center?"text-center":""),responsive:m.responsive,bordered:m.bordered,hover:!0,children:[(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{children:i.map((function(e,n){return(0,d.jsxs)("th",{style:{width:e.width?e.width:"auto"},children:[e.name,!1!==e.sortable&&(0,d.jsxs)(o.Z,{className:"sort-btn",size:"sm",variant:"link",onClick:function(){return function(e,n){var a="asc";void 0===n?a="asc":"asc"===n.dir?a="desc":"desc"===n.dir&&(a="asc"),g({search:v,pagination:h,sort:{key:e,dir:a}})}(e.key,Z)},children:[("undefined"===typeof Z||Z.key!==e.key)&&(0,d.jsx)("i",{className:"fa fa-arrows-v"}),"undefined"!==typeof Z&&Z.key===e.key&&"asc"===Z.dir&&(0,d.jsx)("i",{className:"fa fa-long-arrow-up"}),"undefined"!==typeof Z&&Z.key===e.key&&"desc"===Z.dir&&(0,d.jsx)("i",{className:"fa fa-long-arrow-down"})]})]},n)}))})}),(0,d.jsx)("tbody",{children:l.length?l.map((function(e,n){return(0,d.jsx)("tr",{onClick:function(){return j(e._id)},children:i.map((function(a,t){return a.render?(0,d.jsx)("td",{children:a.render(e,n)},t):(0,d.jsx)("td",{children:e[a.key]},t)}))},n)})):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:i.length,className:"text-center text-danger",children:x})})})]}),(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:(0,d.jsx)(f,{search:v,pagination:h,onChange:g})})]})}},94358:function(e,n,a){a.r(n);var t=a(74165),r=a(1413),s=a(15861),o=a(70885),i=a(72791),c=a(43360),l=a(9140),d=a(95316),u=a(11087),f=a(9085),m=a(26535),p=a(85239),h=a(80184);n.default=function(){var e=(0,i.useState)(0),n=(0,o.Z)(e,2),a=n[0],Z=n[1],v=(0,i.useState)([]),g=(0,o.Z)(v,2),b=g[0],x=g[1],y=(0,i.useState)(),j=(0,o.Z)(y,2),N=j[0],k=j[1],w=(0,i.useState)(""),C=(0,o.Z)(w,2),S=C[0],P=C[1],E=(0,i.useState)({page:1,totalCount:0,pageSize:10}),z=(0,o.Z)(E,2),R=z[0],T=z[1],F=[{key:"_id",name:"No",width:65,render:function(e,n){return n+1}},{key:"name",name:"Name"},{key:"year",name:"Year",render:function(e,n){return e.topic.module.subject.year.name}},{key:"subject",name:"Subject",render:function(e,n){return e.topic.module.subject.name}},{key:"module",name:"Module",render:function(e,n){return e.topic.module.name}},{key:"topic",name:"Topic",render:function(e,n){return e.topic.name}},{key:"action",name:"Action",render:function(e,n){return(0,h.jsxs)("div",{children:[(0,h.jsx)(u.Link,{className:"btn btn-sm btn-outline-success me-1",to:"/admin/sub-topics/edit/".concat(e._id),children:(0,h.jsx)("i",{className:"fa fa-edit"})}),(0,h.jsx)(c.Z,{variant:"btn btn-sm btn-outline-danger",size:"sm",onClick:function(){return _(e)},children:(0,h.jsx)("i",{className:"fa fa-trash"})})]})},sortable:!1,width:90}],D=(0,i.useState)(!1),O=(0,o.Z)(D,2),I=O[0],A=O[1],H=(0,i.useState)({}),L=(0,o.Z)(H,2),M=L[0],B=L[1];(0,i.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.get("admin/sub-topics",{params:{search:S,length:R.pageSize,page:R.page,sortKey:N?N.key:"",sortDir:N?N.dir:""}});case 2:n=e.sent,a=n.data,x(a.data),T((0,r.Z)((0,r.Z)({},R),{},{totalCount:a.totalCount}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var _=function(e){B(e),A(!0)},K=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.delete("admin/sub-topics/".concat(M._id));case 2:n=e.sent,(r=n.data).success?(Z(!a),A(!1),f.Am.success(r.msg)):f.Am.error(r.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(l.Z,{children:[(0,h.jsx)(l.Z.Header,{style:{background:"#3c4b64"},bsPrefix:"card-header py-3",children:(0,h.jsxs)(l.Z.Title,{as:"h1",bsPrefix:"card-title text-light mb-0",style:{fontSize:24},children:["Subtopics management",(0,h.jsxs)(u.Link,{className:"btn btn-primary btn-sm float-end",to:"/admin/sub-topics/create",children:[(0,h.jsx)("i",{className:"fa fa-plus"})," New subtopic"]})]})}),(0,h.jsx)(l.Z.Body,{children:(0,h.jsx)(m.Z,{columns:F,data:b,sort:N,pagination:R,onChange:function(e){var n=e.search,t=e.pagination,r=e.sort;k(r),P(n),T(t),Z(!a)}})}),(0,h.jsxs)(d.Z,{show:I,onHide:function(){return A(!1)},children:[(0,h.jsx)(d.Z.Header,{children:(0,h.jsx)(d.Z.Title,{children:"Are you sure?"})}),(0,h.jsx)(d.Z.Body,{children:"Deleting is permanent and cannot be undone."}),(0,h.jsxs)(d.Z.Footer,{children:[(0,h.jsxs)(c.Z,{variant:"primary",onClick:K,children:[(0,h.jsx)("i",{className:"fa fa-thumbs-up"})," Yes"]}),(0,h.jsxs)(c.Z,{variant:"danger",onClick:function(){return A(!1)},children:[(0,h.jsx)("i",{className:"fa fa-thumbs-down"})," No"]})]})]})]})}},85239:function(e,n,a){var t=a(61044),r=function(){return window.localStorage.getItem("token")?localStorage.getItem("token"):null},s=t.ZP.create({baseURL:"/api/v1/",timeout:15e3,headers:{Authorization:"Bearer ".concat(r())}});s.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(r()),e})),s.interceptors.response.use((function(e){return e}),(function(e){return 401!==e.response.status&&403!==e.response.status&&406!==e.response.status||(window.localStorage.clear(),window.location.href="/login"),Promise.reject(e)})),n.Z=s},9140:function(e,n,a){a.d(n,{Z:function(){return z}});var t=a(1413),r=a(45987),s=a(81694),o=a.n(s),i=a(72791),c=a(10162),l=a(66543),d=a(27472),u=a(80184),f=["bsPrefix","className","variant","as"],m=i.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,i=e.variant,l=e.as,d=void 0===l?"img":l,m=(0,r.Z)(e,f),p=(0,c.vE)(a,"card-img");return(0,u.jsx)(d,(0,t.Z)({ref:n,className:o()(i?"".concat(p,"-").concat(i):p,s)},m))}));m.displayName="CardImg";var p=m,h=a(96040),Z=["bsPrefix","className","as"],v=i.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,l=e.as,d=void 0===l?"div":l,f=(0,r.Z)(e,Z),m=(0,c.vE)(a,"card-header"),p=(0,i.useMemo)((function(){return{cardHeaderBsPrefix:m}}),[m]);return(0,u.jsx)(h.Z.Provider,{value:p,children:(0,u.jsx)(d,(0,t.Z)((0,t.Z)({ref:n},f),{},{className:o()(s,m)}))})}));v.displayName="CardHeader";var g=v,b=["bsPrefix","className","bg","text","border","body","children","as"],x=(0,d.Z)("h5"),y=(0,d.Z)("h6"),j=(0,l.Z)("card-body"),N=(0,l.Z)("card-title",{Component:x}),k=(0,l.Z)("card-subtitle",{Component:y}),w=(0,l.Z)("card-link",{Component:"a"}),C=(0,l.Z)("card-text",{Component:"p"}),S=(0,l.Z)("card-footer"),P=(0,l.Z)("card-img-overlay"),E=i.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,i=e.bg,l=e.text,d=e.border,f=e.body,m=e.children,p=e.as,h=void 0===p?"div":p,Z=(0,r.Z)(e,b),v=(0,c.vE)(a,"card");return(0,u.jsx)(h,(0,t.Z)((0,t.Z)({ref:n},Z),{},{className:o()(s,v,i&&"bg-".concat(i),l&&"text-".concat(l),d&&"border-".concat(d)),children:f?(0,u.jsx)(j,{children:m}):m}))}));E.displayName="Card",E.defaultProps={body:!1};var z=Object.assign(E,{Img:p,Title:N,Subtitle:k,Body:j,Link:w,Text:C,Header:g,Footer:S,ImgOverlay:P})},95316:function(e,n,a){a.d(n,{Z:function(){return K}});var t,r=a(70885),s=a(45987),o=a(1413),i=a(81694),c=a.n(i),l=a(3070),d=a(97357),u=a(78376),f=a(36382);function m(e){if((!t&&0!==t||e)&&d.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),t=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return t}var p=a(28633),h=a(39007),Z=a(73201),v=a(91683),g=a(33690),b=a(72791),x=a(11835),y=a(35592),j=a(72709),N=a(66543),k=(0,N.Z)("modal-body"),w=a(99820),C=a(10162),S=a(80184),P=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],E=b.forwardRef((function(e,n){var a=e.bsPrefix,t=e.className,r=e.contentClassName,i=e.centered,l=e.size,d=e.fullscreen,u=e.children,f=e.scrollable,m=(0,s.Z)(e,P);a=(0,C.vE)(a,"modal");var p="".concat(a,"-dialog"),h="string"===typeof d?"".concat(a,"-fullscreen-").concat(d):"".concat(a,"-fullscreen");return(0,S.jsx)("div",(0,o.Z)((0,o.Z)({},m),{},{ref:n,className:c()(p,t,l&&"".concat(a,"-").concat(l),i&&"".concat(p,"-centered"),f&&"".concat(p,"-scrollable"),d&&h),children:(0,S.jsx)("div",{className:c()("".concat(a,"-content"),r),children:u})}))}));E.displayName="ModalDialog";var z=E,R=(0,N.Z)("modal-footer"),T=a(78024),F=["bsPrefix","className"],D=b.forwardRef((function(e,n){var a=e.bsPrefix,t=e.className,r=(0,s.Z)(e,F);return a=(0,C.vE)(a,"modal-header"),(0,S.jsx)(T.Z,(0,o.Z)((0,o.Z)({ref:n},r),{},{className:c()(t,a)}))}));D.displayName="ModalHeader",D.defaultProps={closeLabel:"Close",closeButton:!1};var O=D,I=(0,a(27472).Z)("h4"),A=(0,N.Z)("modal-title",{Component:I}),H=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],L={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:z};function M(e){return(0,S.jsx)(j.Z,(0,o.Z)((0,o.Z)({},e),{},{timeout:null}))}function B(e){return(0,S.jsx)(j.Z,(0,o.Z)((0,o.Z)({},e),{},{timeout:null}))}var _=b.forwardRef((function(e,n){var a=e.bsPrefix,t=e.className,i=e.style,j=e.dialogClassName,N=e.contentClassName,k=e.children,P=e.dialogAs,E=e["aria-labelledby"],z=e["aria-describedby"],R=e["aria-label"],T=e.show,F=e.animation,D=e.backdrop,O=e.keyboard,I=e.onEscapeKeyDown,A=e.onShow,L=e.onHide,_=e.container,K=e.autoFocus,U=e.enforceFocus,W=e.restoreFocus,Y=e.restoreFocusOptions,q=e.onEntered,V=e.onExit,G=e.onExiting,J=e.onEnter,Q=e.onEntering,X=e.onExited,$=e.backdropClassName,ee=e.manager,ne=(0,s.Z)(e,H),ae=(0,b.useState)({}),te=(0,r.Z)(ae,2),re=te[0],se=te[1],oe=(0,b.useState)(!1),ie=(0,r.Z)(oe,2),ce=ie[0],le=ie[1],de=(0,b.useRef)(!1),ue=(0,b.useRef)(!1),fe=(0,b.useRef)(null),me=(0,p.Z)(),pe=(0,r.Z)(me,2),he=pe[0],Ze=pe[1],ve=(0,Z.Z)(n,Ze),ge=(0,h.Z)(L),be=(0,C.SC)();a=(0,C.vE)(a,"modal");var xe=(0,b.useMemo)((function(){return{onHide:ge}}),[ge]);function ye(){return ee||(0,y.t)({isRTL:be})}function je(e){if(d.Z){var n=ye().getScrollbarWidth()>0,a=e.scrollHeight>(0,u.Z)(e).documentElement.clientHeight;se({paddingRight:n&&!a?m():void 0,paddingLeft:!n&&a?m():void 0})}}var Ne=(0,h.Z)((function(){he&&je(he.dialog)}));(0,v.Z)((function(){(0,f.Z)(window,"resize",Ne),null==fe.current||fe.current()}));var ke=function(){de.current=!0},we=function(e){de.current&&he&&e.target===he.dialog&&(ue.current=!0),de.current=!1},Ce=function(){le(!0),fe.current=(0,g.Z)(he.dialog,(function(){le(!1)}))},Se=function(e){"static"!==D?ue.current||e.target!==e.currentTarget?ue.current=!1:null==L||L():function(e){e.target===e.currentTarget&&Ce()}(e)},Pe=(0,b.useCallback)((function(e){return(0,S.jsx)("div",(0,o.Z)((0,o.Z)({},e),{},{className:c()("".concat(a,"-backdrop"),$,!F&&"show")}))}),[F,$,a]),Ee=(0,o.Z)((0,o.Z)({},i),re);Ee.display="block";return(0,S.jsx)(w.Z.Provider,{value:xe,children:(0,S.jsx)(x.Z,{show:T,ref:ve,backdrop:D,container:_,keyboard:!0,autoFocus:K,enforceFocus:U,restoreFocus:W,restoreFocusOptions:Y,onEscapeKeyDown:function(e){O||"static"!==D?O&&I&&I(e):(e.preventDefault(),Ce())},onShow:A,onHide:L,onEnter:function(e,n){e&&je(e),null==J||J(e,n)},onEntering:function(e,n){null==Q||Q(e,n),(0,l.ZP)(window,"resize",Ne)},onEntered:q,onExit:function(e){null==fe.current||fe.current(),null==V||V(e)},onExiting:G,onExited:function(e){e&&(e.style.display=""),null==X||X(e),(0,f.Z)(window,"resize",Ne)},manager:ye(),transition:F?M:void 0,backdropTransition:F?B:void 0,renderBackdrop:Pe,renderDialog:function(e){return(0,S.jsx)("div",(0,o.Z)((0,o.Z)({role:"dialog"},e),{},{style:Ee,className:c()(t,a,ce&&"".concat(a,"-static"),!F&&"show"),onClick:D?Se:void 0,onMouseUp:we,"aria-label":R,"aria-labelledby":E,"aria-describedby":z,children:(0,S.jsx)(P,(0,o.Z)((0,o.Z)({},ne),{},{onMouseDown:ke,className:j,contentClassName:N,children:k}))}))}})})}));_.displayName="Modal",_.defaultProps=L;var K=Object.assign(_,{Body:k,Header:O,Title:A,Footer:R,Dialog:z,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},8116:function(e,n,a){a.d(n,{Z:function(){return N}});var t=a(1413),r=a(45987),s=a(81694),o=a.n(s),i=a(72791),c=a(10162),l=a(16445),d=a(80184),u=["active","disabled","className","style","activeLabel","children"],f=["children"],m=i.forwardRef((function(e,n){var a=e.active,s=e.disabled,i=e.className,c=e.style,f=e.activeLabel,m=e.children,p=(0,r.Z)(e,u),h=a||s?"span":l.Z;return(0,d.jsx)("li",{ref:n,style:c,className:o()(i,"page-item",{active:a,disabled:s}),children:(0,d.jsxs)(h,(0,t.Z)((0,t.Z)({className:"page-link"},p),{},{children:[m,a&&f&&(0,d.jsx)("span",{className:"visually-hidden",children:f})]}))})}));m.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},m.displayName="PageItem";var p=m;function h(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,s=i.forwardRef((function(e,s){var o=e.children,i=(0,r.Z)(e,f);return(0,d.jsxs)(m,(0,t.Z)((0,t.Z)({},i),{},{ref:s,children:[(0,d.jsx)("span",{"aria-hidden":"true",children:o||n}),(0,d.jsx)("span",{className:"visually-hidden",children:a})]}))}));return s.displayName=e,s}var Z=h("First","\xab"),v=h("Prev","\u2039","Previous"),g=h("Ellipsis","\u2026","More"),b=h("Next","\u203a"),x=h("Last","\xbb"),y=["bsPrefix","className","size"],j=i.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,i=e.size,l=(0,r.Z)(e,y),u=(0,c.vE)(a,"pagination");return(0,d.jsx)("ul",(0,t.Z)((0,t.Z)({ref:n},l),{},{className:o()(s,u,i&&"".concat(u,"-").concat(i))}))}));j.displayName="Pagination";var N=Object.assign(j,{First:Z,Prev:v,Ellipsis:g,Item:p,Next:b,Last:x})},62591:function(e,n,a){var t=a(1413),r=a(45987),s=a(81694),o=a.n(s),i=a(72791),c=a(10162),l=a(80184),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=i.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,i=e.striped,u=e.bordered,f=e.borderless,m=e.hover,p=e.size,h=e.variant,Z=e.responsive,v=(0,r.Z)(e,d),g=(0,c.vE)(a,"table"),b=o()(s,g,h&&"".concat(g,"-").concat(h),p&&"".concat(g,"-").concat(p),i&&"".concat(g,"-").concat("string"===typeof i?"striped-".concat(i):"striped"),u&&"".concat(g,"-bordered"),f&&"".concat(g,"-borderless"),m&&"".concat(g,"-hover")),x=(0,l.jsx)("table",(0,t.Z)((0,t.Z)({},v),{},{className:b,ref:n}));if(Z){var y="".concat(g,"-responsive");return"string"===typeof Z&&(y="".concat(y,"-").concat(Z)),(0,l.jsx)("div",{className:y,children:x})}return x}));n.Z=u}}]);
//# sourceMappingURL=4358.4a28d1e6.chunk.js.map