{"version":3,"file":"static/js/3679.5d0fb131.chunk.js","mappings":"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","sources":["pages/admin/CreateSubTopic.jsx","services/Http.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react'\r\nimport { Card, Form, Button } from 'react-bootstrap'\r\nimport { Formik } from 'formik'\r\nimport * as yup from 'yup'\r\nimport Http from '../../services/Http'\r\nimport { toast } from 'react-toastify'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Editor } from '@tinymce/tinymce-react'\r\n\r\nconst CreateSubTopic = () => {\r\n  const editorRef = useRef(null)\r\n  const navigate = useNavigate()\r\n  const [years, setYears] = useState([])\r\n  const [subjects, setSubjects] = useState([])\r\n  const [modules, setModules] = useState([])\r\n  const [topics, setTopics] = useState([])\r\n  const [subTopic, setSubTopic] = useState({\r\n    year: '',\r\n    subject: '',\r\n    module: '',\r\n    topic: '',\r\n    name: '',\r\n    content: '',\r\n    permission: 2\r\n  })\r\n  const validationSchema = yup.object({\r\n    year: yup.string('Choose a year.').required('Year is required.'),\r\n    subject: yup.string('Choose a subject.').required('Subject is required'),\r\n    module: yup.string('Choose a module.').required('Module is required.'),\r\n    topic: yup.string('Choose a topic.').required('Topic is required.'),\r\n    name: yup\r\n      .string('Enter a sub topic name.')\r\n      .test('len', 'Must be less than 64 characters.', function (val) {\r\n        if (!val) val = ''\r\n        return val.length < 64\r\n      })\r\n      .required('Please enter a name.')\r\n  })\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      let { data } = await Http.get('/admin/years/get-all-populate')\r\n      setYears(data)\r\n      setSubjects(data.length ? data[0].subjects : [])\r\n      setModules(\r\n        data.length && data[0].subjects.length\r\n          ? data[0].subjects[0].modules\r\n          : []\r\n      )\r\n      setTopics(\r\n        data.length &&\r\n          data[0].subjects.length &&\r\n          data[0].subjects[0].modules.length\r\n          ? data[0].subjects[0].modules[0].topics\r\n          : []\r\n      )\r\n      setSubTopic({\r\n        ...subTopic,\r\n        year: data.length ? data[0]._id : '',\r\n        subject:\r\n          data.length && data[0].subjects.length ? data[0].subjects[0]._id : '',\r\n        module:\r\n          data.length &&\r\n          data[0].subjects.length &&\r\n          data[0].subjects[0].modules.length\r\n            ? data[0].subjects[0].modules[0]._id\r\n            : '',\r\n        topic:\r\n          data.length &&\r\n          data[0].subjects.length &&\r\n          data[0].subjects[0].modules.length &&\r\n          data[0].subjects[0].modules[0].topics.length\r\n            ? data[0].subjects[0].modules[0].topics[0]._id\r\n            : ''\r\n      })\r\n    })()\r\n  }, [])\r\n\r\n  const onChangeYear = ev => {\r\n    let idx = years.findIndex(year => year._id === ev.target.value)\r\n    setSubjects(years[idx].subjects)\r\n    setModules(years[idx].subjects.length ? years[idx].subjects[0].modules : [])\r\n    setTopics(\r\n      years[idx].subjects.length && years[idx].subjects[0].modules.length\r\n        ? years[idx].subjects[0].modules[0].topics\r\n        : []\r\n    )\r\n    setSubTopic({\r\n      ...subTopic,\r\n      year: ev.target.value,\r\n      subject: years[idx].subjects.length ? years[idx].subjects[0]._id : '',\r\n      module:\r\n        years[idx].subjects.length && years[idx].subjects[0].modules.length\r\n          ? years[idx].subjects[0].modules[0]._id\r\n          : '',\r\n      topic:\r\n        years[idx].subjects.length && years[idx].subjects[0].topics.length\r\n          ? years[idx].subjects[0].topics[0]._id\r\n          : ''\r\n    })\r\n  }\r\n\r\n  const onChangeSubject = ev => {\r\n    let idx = subjects.findIndex(subject => subject._id === ev.target.value)\r\n    setModules(subjects[idx].modules)\r\n    setTopics(\r\n      subjects[idx].modules.length ? subjects[idx].modules[0].topics : []\r\n    )\r\n    setSubTopic({\r\n      ...subTopic,\r\n      subject: ev.target.value,\r\n      module: subjects[idx].modules.length ? subjects[idx].modules[0]._id : '',\r\n      topic:\r\n        subjects[idx].modules.length && subjects[idx].modules[0].topics.length\r\n          ? subjects[idx].modules[0].topics[0]._id\r\n          : ''\r\n    })\r\n  }\r\n\r\n  const onChangeModule = ev => {\r\n    let idx = modules.findIndex(module => module._id === ev.target.value)\r\n    setTopics(modules[idx].topics)\r\n    setSubTopic({\r\n      ...subTopic,\r\n      module: ev.target.value,\r\n      topic: modules[idx].topics.length ? modules[idx].topics[0]._id : ''\r\n    })\r\n  }\r\n  \r\n  const onChangeTopic = ev => {\r\n    setSubTopic({\r\n      ...subTopic,\r\n      topic: ev.target.value\r\n    })\r\n  }\r\n\r\n  const onChangePermission = ev => {\r\n    setSubTopic({\r\n      ...subTopic,\r\n      permission: Number(ev.target.value)\r\n    })\r\n  }\r\n\r\n  const onSave = async (subTopic, { resetForm }) => {\r\n    subTopic.content = editorRef.current.getContent()\r\n    let { data } = await Http.post('admin/sub-topics', subTopic)\r\n    if (data.success) {\r\n      toast.success(data.msg)\r\n      resetForm()\r\n      navigate('/admin/sub-topics')\r\n    } else {\r\n      toast.error(data.msg)\r\n    }\r\n  }\r\n  return (\r\n    <Card>\r\n      <Card.Header\r\n        style={{ background: '#3c4b64' }}\r\n        bsPrefix='card-header py-3'\r\n      >\r\n        <Card.Title bsPrefix='card-title mb-0 text-light' as='h5'>\r\n          New subtopic\r\n        </Card.Title>\r\n      </Card.Header>\r\n      <Card.Body>\r\n        <Formik\r\n          validationSchema={validationSchema}\r\n          validateOnChange={false}\r\n          validateOnBlur={false}\r\n          onSubmit={onSave}\r\n          initialValues={subTopic}\r\n          enableReinitialize\r\n        >\r\n          {({\r\n            handleSubmit,\r\n            handleChange,\r\n            handleBlur,\r\n            values,\r\n            touched,\r\n            errors\r\n          }) => (\r\n            <Form noValidate onSubmit={handleSubmit}>\r\n              <Form.Group className='mb-3'>\r\n                <Form.Label>Year:</Form.Label>\r\n                <Form.Select\r\n                  name='year'\r\n                  value={subTopic.year}\r\n                  onChange={onChangeYear}\r\n                  onBlur={handleBlur}\r\n                  touched={touched}\r\n                  isInvalid={!!errors.year}\r\n                >\r\n                  {years.map((year, idx) => (\r\n                    <option key={idx} value={year._id}>\r\n                      {year.name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n                <Form.Control.Feedback type='invalid'>\r\n                  {errors.year}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n              <Form.Group className='mb-3'>\r\n                <Form.Label>Subject:</Form.Label>\r\n                <Form.Select\r\n                  name='subject'\r\n                  value={subTopic.subject}\r\n                  onChange={onChangeSubject}\r\n                  onBlur={handleBlur}\r\n                  touched={touched}\r\n                  isInvalid={!!errors.subject}\r\n                >\r\n                  {subjects.map((subject, idx) => (\r\n                    <option key={idx} value={subject._id}>\r\n                      {subject.name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n                <Form.Control.Feedback type='invalid'>\r\n                  {errors.subject}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n              <Form.Group className='mb-3'>\r\n                <Form.Label>Module:</Form.Label>\r\n                <Form.Select\r\n                  name='module'\r\n                  value={values.module}\r\n                  onChange={onChangeModule}\r\n                  onBlur={handleBlur}\r\n                  touched={touched}\r\n                  isInvalid={!!errors.module}\r\n                >\r\n                  {modules.map((module, idx) => (\r\n                    <option key={idx} value={module._id}>\r\n                      {module.name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n                <Form.Control.Feedback type='invalid'>\r\n                  {errors.module}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n              <Form.Group className='mb-3'>\r\n                <Form.Label>Topic:</Form.Label>\r\n                <Form.Select\r\n                  name='topic'\r\n                  value={subTopic.topic}\r\n                  onChange={onChangeTopic}\r\n                  onBlur={handleBlur}\r\n                  touched={touched}\r\n                  isInvalid={!!errors.topic}\r\n                >\r\n                  {topics.map((topic, idx) => (\r\n                    <option key={idx} value={topic._id}>\r\n                      {topic.name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n                <Form.Control.Feedback type='invalid'>\r\n                  {errors.topic}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n              <Form.Group className='mb-3'>\r\n                <Form.Label>Name:</Form.Label>\r\n                <Form.Control\r\n                  type='text'\r\n                  placeholder='Please enter a sub topic name.'\r\n                  name='name'\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.name}\r\n                  touched={touched}\r\n                  isInvalid={!!errors.name}\r\n                />\r\n                <Form.Control.Feedback type='invalid'>\r\n                  {errors.name}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n              <Form.Group className='mb-3'>\r\n                <Form.Check\r\n                  inline\r\n                  type='radio'\r\n                  name='permission'\r\n                  label='Open'\r\n                  id='permission-1'\r\n                  value='0'\r\n                  checked={values.permission === 0}\r\n                  onChange={onChangePermission}\r\n                  onBlur={handleBlur}\r\n                />\r\n                <Form.Check\r\n                  inline\r\n                  type='radio'\r\n                  name='permission'\r\n                  label='Free'\r\n                  id='permission-2'\r\n                  value='1'\r\n                  checked={values.permission === 1}\r\n                  onChange={onChangePermission}\r\n                  onBlur={handleBlur}\r\n                />\r\n                <Form.Check\r\n                  inline\r\n                  type='radio'\r\n                  name='permission'\r\n                  label='Premium'\r\n                  id='permission-3'\r\n                  value='2'\r\n                  checked={values.permission === 2}\r\n                  onChange={onChangePermission}\r\n                  onBlur={handleBlur}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group className='mb-3'>\r\n                <Form.Label>Description:</Form.Label>\r\n                <Editor\r\n                  tinymceScriptSrc={\r\n                    process.env.PUBLIC_URL + '/tinymce/tinymce.min.js'\r\n                  }\r\n                  onInit={(ev, editor) => (editorRef.current = editor)}\r\n                  init={{\r\n                    height: 450,\r\n                    menubar: true,\r\n                    plugins: [\r\n                      'image',\r\n                      'grid',\r\n                      'tiny_mce_wiris',\r\n                      'code',\r\n                      'table',\r\n                      'link',\r\n                      'media',\r\n                      'codesample'\r\n                    ],\r\n                    toolbar:\r\n                      'undo redo | formatselect | ' +\r\n                      'bold italic backcolor | alignleft aligncenter ' +\r\n                      'alignright alignjustify | bullist numlist outdent indent | ' +\r\n                      'removeformat | grid_insert | tiny_mce_wiris_formulaEditor tiny_mce_wiris_formulaEditorChemistry | help',\r\n                    draggable_modal: true,\r\n                    content_style:\r\n                      'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }',\r\n                  }}\r\n                  name='description'\r\n                />\r\n              </Form.Group>\r\n              <Button type='submit' variant='primary' className='float-end'>\r\n                <i className='fa fa-save'></i> Save\r\n              </Button>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\nexport default CreateSubTopic\r\n","import axios from \"axios\";\r\nconst getToken = () => {\r\n    return window.localStorage.getItem(\"token\") ? localStorage.getItem(\"token\") : null;\r\n}\r\n\r\nconst http = axios.create({\r\n    // baseURL: \"http://localhost:5000/api/v1/\",\r\n    baseURL: \"/api/v1/\",\r\n    timeout: 15000,\r\n    headers: {\r\n        Authorization: `Bearer ${getToken()}`\r\n    }\r\n});\r\n\r\nhttp.interceptors.request.use(function(config) {\r\n    config.headers.Authorization = `Bearer ${getToken()}`;\r\n    return config;\r\n});\r\nhttp.interceptors.response.use(function(response) {\r\n    return response;\r\n}, function(err) {\r\n    if (err.response.status === 401 || err.response.status === 403 || err.response.status === 406) {\r\n        window.localStorage.clear();\r\n        window.location.href = \"/login\";\r\n    } \r\n    return Promise.reject(err);\r\n});\r\n\r\nexport default http;"],"names":["editorRef","useRef","navigate","useNavigate","useState","years","setYears","subjects","setSubjects","modules","setModules","topics","setTopics","year","subject","module","topic","name","content","permission","subTopic","setSubTopic","validationSchema","yup","required","test","val","length","useEffect","Http","data","_id","onChangeYear","ev","idx","findIndex","target","value","onChangeSubject","onChangeModule","onChangeTopic","onChangePermission","Number","onSave","resetForm","current","getContent","success","toast","msg","style","background","bsPrefix","as","validateOnChange","validateOnBlur","onSubmit","initialValues","enableReinitialize","handleSubmit","handleChange","handleBlur","values","touched","errors","noValidate","className","onChange","onBlur","isInvalid","map","type","placeholder","inline","label","id","checked","tinymceScriptSrc","onInit","editor","init","height","menubar","plugins","toolbar","draggable_modal","content_style","variant","getToken","window","localStorage","getItem","http","axios","baseURL","timeout","headers","Authorization","interceptors","request","use","config","response","err","status","clear","location","href","Promise","reject"],"sourceRoot":""}